(self.webpackChunk=self.webpackChunk||[]).push([[686],{19135:(e,t,n)=>{"use strict";var o=n(9669),r=n.n(o),i=n(78345);Vue.use(i.Z);var s="/";location.pathname&&"/"!=location.pathname&&(s=location.pathname.split("/").slice(0,-1).join("/"));var a=[{path:"/",redirect:"/role"},{path:"/role",component:n(29135).Z},{path:"/module/:module",component:n(12376).Z},{name:"Error",path:"/*",component:n(15646).Z}];const l=new i.Z({base:s,routes:a,history:!0,linkActiveClass:"active"});var c=n(20629);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,c.Se)({user:"user"})),data:function(){return{logoutModal:!1,app_logo:window.init.app_logo,app_text:window.init.app_text}},components:{},methods:{logout:function(){axios.post("/auth/logout",{}).then((function(e){window.location="/auth/login"}))},cancel:function(){this.$data.logoutModal=!1}}};const m=(0,n(51900).Z)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"paper-theme aside-page"},[n("sidebar",{staticClass:"wide"},[n("div",{staticClass:"logo",attrs:{slot:"brand"},slot:"brand"},[n("img",{attrs:{src:"/assets/lambda/images/light.svg",alt:"Puzzle Visual Builder"}})]),e._v(" "),n("ul",[n("li",{staticClass:"sub-title"},[n("span",[e._v("ХЭРЭГЛЭГЧ, ХАНДАХ ЭРХ")])]),e._v(" "),n("li",[n("router-link",{attrs:{to:"/module/agent"}},[n("i",{staticClass:"ti-user"}),e._v(" "),n("span",[e._v("Хэрэглэгчид")])])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:"/role"}},[n("i",{staticClass:"ti-unlock"}),e._v(" "),n("span",[e._v("Хандах эрх, Зөвшөөрөл")])])],1),e._v(" "),n("li",{staticClass:"divider"}),e._v(" "),n("li",[n("a",{attrs:{href:"/lambda/upload",target:"_blank"}},[n("i",{staticClass:"ti-cloud-up"}),e._v(" "),n("span",[e._v("Өгөгдлийн сангийн бүтцийг илгээх")])])]),n("li",[n("a",{attrs:{href:"/lambda/async",target:"_blank"}},[n("i",{staticClass:"ti-cloud-down"}),e._v(" "),n("span",[e._v("Систем шинэчлэх")])])])]),e._v(" "),n("div",{attrs:{slot:"aside-bottom"},slot:"aside-bottom"},[n("ul",[n("li",[n("a",{on:{click:function(t){e.logoutModal=!0}}},[n("Icon",{attrs:{type:"ios-log-out"}}),e._v(" "),n("span",[e._v("\n                            Гарах\n                        ")])],1)])])])]),e._v(" "),n("main",[n("router-view")],1),e._v(" "),n("Modal",{staticClass:"logout-modal",attrs:{closable:!1,width:"252"},model:{value:e.logoutModal,callback:function(t){e.logoutModal=t},expression:"logoutModal"}},[n("p",{staticStyle:{display:"none"},attrs:{slot:"header"},slot:"header"}),e._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("a",{on:{click:function(t){return e.logout()}}},[n("Icon",{attrs:{type:"md-log-out"}}),e._v("\n                Гарах\n            ")],1),e._v(" "),n("a",{on:{click:function(t){return e.cancel()}}},[n("Icon",{attrs:{type:"md-refresh"}}),e._v("\n                Болих\n            ")],1)]),e._v(" "),n("div",{staticStyle:{display:"none"},attrs:{slot:"footer"},slot:"footer"},[n("form",{attrs:{action:"/auth/logout"}})])])],1)}),[],!1,null,null,null).exports;Vue.use(c.ZP);var h=new c.ZP.Store({state:{user:window.init.user,showLogout:!1},getters:{user:function(e){return e.user},showLogout:function(e){return e.showLogout}},actions:{showLogoutModal:function(e,t){var n=e.commit;console.log("working"),n("showLogoutModal",t)}},mutations:{showLogoutModal:function(e,t){e.state.showLogout=t}},modules:{}});window.axios=r(),Vue.prototype.$init=window.init,Vue.prototype.$user=window.init.user,r().interceptors.request.use((function(e){return e.headers["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),e})),new Vue({router:l,store:h,el:"#puzzle",extends:m})},5878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(94015),r=n.n(o),i=n(23645),s=n.n(i)()(r());s.push([e.id,".no-animation,.no-animation .ivu-poptip-popper{transition:all 0s!important}.user-control ul{list-style:none}.user-control ul.transparent{margin-right:4px}.user-control ul.transparent li{margin-right:6px}.user-control ul.transparent li a{background-color:hsla(0,0%,100%,.7)!important;border-radius:3px;box-shadow:0 1px 3px 0 rgba(0,0,0,.3);max-height:32px;min-width:32px}.user-control ul.transparent li a:hover{background:#fff;color:#007ae5}.user-control ul.transparent li a.avatar{background:transparent;padding-left:2px;padding-right:6px}.user-control ul.transparent li a.avatar img{height:28px;margin-right:5px;width:auto}.user-control ul.transparent li a.avatar span{color:#001e35;font-size:10px;font-weight:500;text-transform:uppercase}.user-control ul.transparent li a i{font-size:18px}.user-control ul.transparent li .ivu-badge{position:relative}.user-control ul.transparent li .ivu-badge a{cursor:pointer;display:block;font-size:11px;font-weight:500;max-height:32px;padding:0;text-align:center;transition:all .2s ease-in-out;width:32px}.user-control ul.transparent li .ivu-badge a i,.user-control ul.transparent li .ivu-badge a span{color:#001e35;line-height:32px}.user-control ul.transparent li .ivu-badge a:hover i{color:#007ae5}.user-control ul.transparent li .ivu-badge sup{box-shadow:none;right:5px;top:5px}.user-control ul>li{float:left;position:relative}.user-control ul>li .ivu-badge>a,.user-control ul>li .ivu-poptip-rel>a,.user-control ul>li>a{align-items:center;display:flex;height:42px;justify-content:center;min-width:42px;text-align:center}.user-control ul>li .ivu-badge>a.transparent,.user-control ul>li .ivu-poptip-rel>a.transparent,.user-control ul>li>a.transparent{background:hsla(0,0%,100%,.7);margin-right:5px!important}.user-control ul>li .ivu-badge>a i,.user-control ul>li .ivu-poptip-rel>a i,.user-control ul>li>a i{color:#001e35;font-size:22px;line-height:42px}.user-control ul>li .ivu-badge>a:hover i,.user-control ul>li .ivu-badge>a:hover span,.user-control ul>li .ivu-poptip-rel>a:hover i,.user-control ul>li .ivu-poptip-rel>a:hover span,.user-control ul>li>a:hover i,.user-control ul>li>a:hover span{color:#007ae5}.user-control ul>li .ivu-badge>a.avatar,.user-control ul>li .ivu-poptip-rel>a.avatar,.user-control ul>li>a.avatar{padding:0}.user-control ul>li .ivu-badge>a.avatar img,.user-control ul>li .ivu-poptip-rel>a.avatar img,.user-control ul>li>a.avatar img{border-radius:50%;margin:0 auto;max-height:32px;max-width:32px}.user-control ul>li .ivu-badge>a.avatar span,.user-control ul>li .ivu-poptip-rel>a.avatar span,.user-control ul>li>a.avatar span{color:#001e35;font-size:12px;font-weight:500}.user-control ul>li:last-child{border-right:0}.user-control ul>li .ivu-badge a{cursor:pointer;display:inline-block;font-size:14px;font-weight:500;height:42px;min-width:32px;position:relative;text-transform:uppercase;transition:all .2s ease-in-out}.user-control ul>li .ivu-badge a i,.user-control ul>li .ivu-badge a span{color:#001e35;line-height:42px}.user-control ul>li .ivu-badge a:hover i{color:#007ae5}.user-control ul>li .ivu-badge sup{box-shadow:none;right:10px;top:10px}.user-control ul>li .header-apps{padding:0 0 10px;width:230px}.user-control ul>li .header-apps .ivu-col{padding:10px 0}.user-control ul>li .header-apps .ivu-col a{align-items:center;border:1px solid transparent;border-radius:3px;color:#737373;display:flex;flex-direction:column;height:90px;justify-content:center;width:75px}.user-control ul>li .header-apps .ivu-col a:hover{border:1px solid #eee}.user-control ul>li .header-apps .ivu-col a img{height:35px;margin-bottom:8px;max-height:35px;max-width:35px}.user-control ul>li .header-apps .ivu-col a span{color:#555;display:block;font-size:12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-control ul>li.avatar-item .ivu-poptip-content{padding:0}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-arrow,.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-arrow:after{border-bottom-color:#007ae5}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body{padding:0!important;width:200px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile{padding:0 0 5px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile-info{background:#007ae5;border-top-left-radius:3px;border-top-right-radius:3px;color:#fff;margin-bottom:10px;padding:8px 16px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile-info h3{font-size:18px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile-info small{font-size:11px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile ul li a{align-items:center;color:#555;cursor:pointer;display:flex;justify-content:left;padding:0 16px;width:200px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile ul li a i{margin-right:8px;width:20px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile ul li a:hover{background:#f4f5f6}","",{version:3,sources:["webpack://./../../vue/adminmodule/src/components/UserControl.vue"],names:[],mappings:"AAkHI,+CACI,2BA9GR,CAmHI,iBACI,eAhHR,CAiHQ,6BACI,gBA/GZ,CAgHY,gCACI,gBA9GhB,CA+GgB,kCACI,6CAAA,CAGA,iBAAA,CACA,qCAAA,CAHA,eAAA,CACA,cA3GpB,CA8GoB,wCACI,eAAA,CACA,aA5GxB,CA8GoB,yCAGI,sBAAA,CADA,gBAAA,CADA,iBA1GxB,CA6GwB,6CACI,WAAA,CAEA,gBAAA,CADA,UA1G5B,CA6GwB,8CACI,aAnCf,CAoCe,cAAA,CACA,eAAA,CACA,wBA3G5B,CA8GoB,oCACI,cA5GxB,CA+GgB,2CACI,iBA7GpB,CA8GoB,6CAKI,cAAA,CAJA,aAAA,CAGA,cAAA,CAEA,eAAA,CAJA,eAAA,CAOA,SAAA,CADA,iBAAA,CADA,8BAAA,CAJA,UAtGxB,CA6GwB,iGAEI,aA3Df,CA4De,gBA3G5B,CA8G4B,qDACI,aA5GhC,CAgHoB,+CAGI,eAAA,CADA,SAAA,CADA,OA5GxB,CAmHQ,oBAEI,UAAA,CADA,iBAhHZ,CAkHY,6FAMI,kBAAA,CADA,YAAA,CAFA,WAAA,CAIA,sBAAA,CAHA,cAAA,CAIA,iBAhHhB,CAiHgB,iIACI,6BAAA,CACA,0BA7GpB,CA+GgB,mGACI,aA7FP,CA+FO,cAAA,CADA,gBA1GpB,CA8GoB,mPAEI,aAxGxB,CA2GgB,kHACI,SAvGpB,CAwGoB,8HAGI,iBAAA,CACA,aAAA,CAHA,eAAA,CACA,cAlGxB,CAsGoB,iIACI,aAhHX,CAiHW,cAAA,CACA,eAlGxB,CAsGY,+BACI,cApGhB,CAuGgB,iCAMI,cAAA,CALA,oBAAA,CAIA,cAAA,CAEA,eAAA,CAJA,WAAA,CACA,cAAA,CAFA,iBAAA,CAOA,wBAAA,CADA,8BApGpB,CAsGoB,yEAEI,aAtIX,CAuIW,gBApGxB,CAuGwB,yCACI,aArG5B,CAyGgB,mCAGI,eAAA,CADA,UAAA,CADA,QArGpB,CA0GY,iCAEI,gBAAA,CADA,WAvGhB,CAyGgB,0CACI,cAvGpB,CAwGoB,4CAOI,kBAAA,CAEA,4BAAA,CANA,iBAAA,CAGA,aAAA,CALA,YAAA,CACA,qBAAA,CAEA,WAAA,CAIA,sBAAA,CAHA,UAlGxB,CAuGwB,kDACI,qBArG5B,CAuGwB,gDACI,WAAA,CAGA,iBAAA,CAFA,eAAA,CACA,cApG5B,CAuGwB,iDAMI,UAAA,CALA,aAAA,CAIA,cAAA,CAHA,eAAA,CACA,sBAAA,CACA,kBAnG5B,CA2GgB,oDACI,SAzGpB,CA4GwB,kJACI,2BAvG5B,CA0GoB,qEACI,mBAAA,CACA,WAxGxB,CAyGwB,qFACI,eAvG5B,CAwG4B,0FACI,kBAxMtB,CA0MsB,0BAAA,CACA,2BAAA,CACA,UAAA,CACA,kBAAA,CAJA,gBAlGhC,CAuGgC,6FACI,cArGpC,CAuGgC,gGACI,cArGpC,CA0GoC,6FAEI,kBAAA,CAEA,UAAA,CAGA,cAAA,CANA,YAAA,CAKA,oBAAA,CAHA,cAAA,CAEA,WAtGxC,CAyGwC,+FAEI,gBAAA,CADA,UAtG5C,CAyGwC,mGACI,kBAvG5C",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n$primary: #007AE5;\n$text-color: #001E35;\n.no-animation {\n    transition: all 0s !important;\n    .ivu-poptip-popper {\n        transition: all 0s !important;\n    }\n}\n\n.user-control {\n    ul {\n        list-style: none;\n        &.transparent {\n            margin-right: 4px;\n            li {\n                margin-right: 6px;\n                a {\n                    background-color: hsla(0, 0%, 100%, .7) !important;\n                    max-height: 32px;\n                    min-width: 32px;\n                    border-radius: 3px;\n                    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .3);\n                    &:hover {\n                        background: #ffffff;\n                        color: $primary;\n                    }\n                    &.avatar {\n                        padding-right: 6px;\n                        padding-left: 2px;\n                        background: transparent;\n                        img {\n                            height: 28px;\n                            width: auto;\n                            margin-right: 5px;\n                        }\n                        span {\n                            color: $text-color;\n                            font-size: 10px;\n                            font-weight: 500;\n                            text-transform: uppercase;\n                        }\n                    }\n                    i {\n                        font-size: 18px;\n                    }\n                }\n                .ivu-badge {\n                    position: relative;\n                    a {\n                        display: block;\n                        max-height: 32px;\n                        width: 32px;;\n                        font-size: 11px;\n                        cursor: pointer;\n                        font-weight: 500;\n                        transition: all .2s ease-in-out;\n                        text-align: center;\n                        padding: 0;\n                        i,\n                        span {\n                            color: $text-color;\n                            line-height: 32px;\n                        }\n                        &:hover {\n                            i {\n                                color: $primary;\n                            }\n                        }\n                    }\n                    sup {\n                        top: 5px;\n                        right: 5px;\n                        box-shadow: none;\n                    }\n                }\n            }\n        }\n        > li {\n            position: relative;\n            float: left;\n            > a,\n            .ivu-poptip-rel > a,\n            .ivu-badge > a {\n                height: 42px;\n                min-width: 42px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                text-align: center;\n                &.transparent {\n                    background: rgba(#ffffff, .7);\n                    margin-right: 5px !important;\n                }\n                i {\n                    color: $text-color;\n                    line-height: 42px;\n                    font-size: 22px;\n                }\n                &:hover {\n                    i,\n                    span {\n                        color: $primary;\n                    }\n                }\n                &.avatar {\n                    padding: 0;\n                    img {\n                        max-height: 32px;\n                        max-width: 32px;;\n                        border-radius: 50%;\n                        margin: 0 auto;\n                    }\n                    span {\n                        color: $text-color;\n                        font-size: 12px;\n                        font-weight: 500;\n                    }\n                }\n            }\n            &:last-child {\n                border-right: 0;\n            }\n            .ivu-badge {\n                a {\n                    display: inline-block;\n                    position: relative;\n                    height: 42px;\n                    min-width: 32px;\n                    font-size: 14px;\n                    cursor: pointer;\n                    font-weight: 500;\n                    transition: all .2s ease-in-out;\n                    text-transform: uppercase;\n                    i,\n                    span {\n                        color: $text-color;\n                        line-height: 42px;\n                    }\n                    &:hover {\n                        i {\n                            color: $primary;\n                        }\n                    }\n                }\n                sup {\n                    top: 10px;\n                    right: 10px;\n                    box-shadow: none;\n                }\n            }\n            .header-apps {\n                width: 230px;\n                padding: 0 0 10px 0;\n                .ivu-col {\n                    padding: 10px 0;\n                    a {\n                        display: flex;\n                        flex-direction: column;\n                        border-radius: 3px;\n                        height: 90px;\n                        width: 75px;\n                        color: #737373;\n                        align-items: center;\n                        justify-content: center;\n                        border: 1px solid transparent;\n                        &:hover {\n                            border: 1px solid #eeeeee;\n                        }\n                        img {\n                            height: 35px;\n                            max-height: 35px;\n                            max-width: 35px;\n                            margin-bottom: 8px;\n                        }\n                        span {\n                            display: block;\n                            overflow: hidden;\n                            text-overflow: ellipsis;\n                            white-space: nowrap;\n                            font-size: 12px;\n                            color: #555555;\n                        }\n                    }\n                }\n            }\n            &.avatar-item {\n                .ivu-poptip-content {\n                    padding: 0;\n                    .ivu-poptip-arrow {\n                        border-bottom-color: $primary;\n                        &:after {\n                            border-bottom-color: $primary;\n                        }\n                    }\n                    .ivu-poptip-body {\n                        padding: 0 !important;\n                        width: 200px;\n                        .header-profile {\n                            padding: 0 0 5px;\n                            &-info {\n                                background: $primary;\n                                padding: 8px 16px;\n                                border-top-left-radius: 3px;\n                                border-top-right-radius: 3px;\n                                color: #ffffff;\n                                margin-bottom: 10px;\n                                h3 {\n                                    font-size: 18px;\n                                }\n                                small {\n                                    font-size: 11px;\n                                }\n                            }\n                            ul {\n                                li {\n                                    a {\n                                        display: flex;\n                                        align-items: center;\n                                        padding: 0 16px;\n                                        color: #555555;\n                                        width: 200px;\n                                        justify-content: left;\n                                        cursor: pointer;\n                                        i {\n                                            width: 20px;\n                                            margin-right: 8px;\n                                        }\n                                        &:hover {\n                                            background: #f4f5f6;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n"],sourceRoot:""}]);const a=s},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},94015:e=>{"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var o,r,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}e.exports=function(e){var n=t(e,4),o=n[1],r=n[3];if(!r)return o;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),a="/*# ".concat(s," */"),l=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([a]).join("\n")}return[o].join("\n")}},34155:e=>{var t,n,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,l=[],c=!1,u=-1;function d(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&p())}function p(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||c||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},93379:(e,t,n)=>{"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],l=t.base?i[0]+t.base:i[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=a(u),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(s[d].references++,s[d].updater(p)):s.push({identifier:u,updater:f(p,t),references:1}),o.push(u)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function m(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var h=null,A=0;function f(e,t){var n,o,r;if(t.singleton){var i=A++;n=h||(h=c(t)),o=p.bind(null,n,i,!1),r=p.bind(null,n,i,!0)}else n=c(t),o=m.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=a(n[o]);s[r].references--}for(var i=l(e,t),c=0;c<n.length;c++){var u=a(n[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=i}}}},15646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const o={};const r=(0,n(51900).Z)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("h3",[e._v("\n    404 not found\n")])}),[],!1,null,null,null).exports},12376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});const o={name:"UserControl",data:function(){return{listDrawer:!1,logoutModal:!1,poptipOption:{animation:"none",modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}}}}},methods:{logout:function(){axios.post("/auth/logout",{}).then((function(e){window.location="/auth/login"}))},cancel:function(){this.$data.logoutModal=!1}},computed:{userName:function(){return window.init.user.last_name+" "+window.init.user.first_name}}};var r=n(93379),i=n.n(r),s=n(5878),a={insert:"head",singleton:!1};i()(s.Z,a);s.Z.locals;var l=n(51900);const c={components:{UserControl:(0,l.Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-control"},[n("ul",[n("li",{staticClass:"avatar-item"},[n("Poptip",{attrs:{placement:"bottom-end","popper-class":"no-animation"}},[n("a",{staticClass:"avatar",attrs:{href:"javascript:void(0)"}},[n("img",{attrs:{src:"/assets/lambda/images/avatar.png",alt:"avatar"}}),e._v(" "),n("span",[e._v(" "+e._s(e.userName))])]),e._v(" "),n("div",{staticClass:"header-profile",attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"header-profile-info"},[n("h3",[e._v(e._s(e.$user.login))]),e._v(" "),n("small",[e._v("system administrator")])]),e._v(" "),n("ul",[n("li",[n("router-link",{attrs:{to:"/module/profile"}},[n("Icon",{attrs:{type:"ios-contact-outline"}}),e._v(" "),n("span",[e._v("Хувийн мэдээлэл")])],1)],1),e._v(" "),n("li",[n("router-link",{attrs:{to:"/module/password"}},[n("Icon",{attrs:{type:"ios-lock-outline"}}),e._v(" "),n("span",[e._v("Нууц үг солих")])],1)],1),e._v(" "),n("li",[n("a",{attrs:{href:"javascript:void(0)"}},[n("Icon",{attrs:{type:"ios-settings-outline"}}),e._v(" "),n("span",[e._v("Тохиргоо")])],1)]),e._v(" "),n("li",[n("a",{on:{click:function(t){e.logoutModal=!0}}},[n("Icon",{attrs:{type:"ios-log-out"}}),e._v(" "),n("span",[e._v("Системээс гарах")])],1)])])])])],1)]),e._v(" "),n("Modal",{staticClass:"logout-modal",attrs:{closable:!1,width:"252"},model:{value:e.logoutModal,callback:function(t){e.logoutModal=t},expression:"logoutModal"}},[n("p",{staticStyle:{display:"none"},attrs:{slot:"header"},slot:"header"}),e._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("a",{on:{click:function(t){return e.logout()}}},[n("Icon",{attrs:{type:"md-log-out"}}),e._v("\n                Гарах\n            ")],1),e._v(" "),n("a",{on:{click:function(t){return e.cancel()}}},[n("Icon",{attrs:{type:"md-refresh"}}),e._v("\n                Болих\n            ")],1)]),e._v(" "),n("div",{staticStyle:{display:"none"},attrs:{slot:"footer"},slot:"footer"},[n("form",{attrs:{action:"/auth/logout"}})])]),e._v(" "),n("Drawer",{attrs:{title:"Төслийн жагсаалт",closable:!1},model:{value:e.listDrawer,callback:function(t){e.listDrawer=t},expression:"listDrawer"}},[n("p",[e._v("Some contents...")]),e._v(" "),n("p",[e._v("Some contents...")]),e._v(" "),n("p",[e._v("Some contents...")])])],1)}),[],!1,null,null,null).exports}};const u=(0,l.Z)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",["agent"==e.$route.params.module?n("agent",[n("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):e._e(),e._v(" "),"profile"==e.$route.params.module?n("agent-form",{attrs:{type:"profile"}},[n("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):e._e(),e._v(" "),"password"==e.$route.params.module?n("agent-form",{attrs:{type:"password"}},[n("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):e._e()],1)}),[],!1,null,null,null).exports},71201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const o={props:["data","menuIndex","cruds","permissions"],components:{},data:function(){return{loading:!0,extend:!1,formUser:null,gridUser:null,formField:null,gridField:null,user_fields:[],grid_fields:[],form_fields:[],gridCondition:[],formCondition:[]}},methods:{addFrom:function(){this.formUser&&this.formField?(this.formCondition.push({user_field:this.formUser,form_field:this.formField}),this.formField=null,this.formUser=null,this.updateValue()):this.$Message.error("Харгалзах багнуудыг сонгоно уу")},deleteFrom:function(e){this.formCondition.splice(e,1),this.updateValue()},deleteGrid:function(e){this.gridCondition.splice(e,1),this.updateValue()},addGrid:function(){this.gridUser&&this.gridField?(this.gridCondition.push({user_field:this.gridUser,grid_field:this.gridField}),this.gridField=null,this.gridUser=null,this.updateValue()):this.$Message.error("Харгалзах багнуудыг сонгоно уу")},updateValue:function(){this.permissions[this.data.id].formCondition=this.formCondition,this.permissions[this.data.id].gridCondition=this.gridCondition},showUserData:function(){var e=this;this.extend?this.extend=!1:(this.extend=!0,this.loading=!0,axios.get("/lambda/puzzle/get-krud-fields/"+this.data.url).then((function(t){e.loading=!1,t.status&&(e.user_fields=t.data.user_fields,e.grid_fields=t.data.grid_fields,e.form_fields=t.data.form_fields,e.permissions[e.data.id].formCondition&&(e.formCondition=e.permissions[e.data.id].formCondition),e.permissions[e.data.id].gridCondition&&(e.gridCondition=e.permissions[e.data.id].gridCondition))})).catch((function(t){e.loading=!1,e.$Message.error("Уучлаарай алдаа гарлаа")})))},getIndex:function(e){var t=[e];return this.menuIndex.concat(t)},element:function(){return n(71201).Z},getTitle:function(e){if("crud"==e.link_to){var t=this.cruds.findIndex((function(t){return t.id==e.url}));return t>=0?this.cruds[t].title:""}return e.title},changePermissionPre:function(e,t){this.$emit("changePermission",e,this.data.id,t)},changePermission:function(e,t,n){this.$emit("changePermission",e,t,n)}},computed:{}};const r=(0,n(51900).Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"menu-tree-item",attrs:{"data-link_to":e.data.link_to,"data-url":e.data.url,"data-title":e.data.title,"data-icon":e.data.icon,"data-c":e.data.c,"data-r":e.data.r,"data-u":e.data.u,"data-d":e.data.d}},[n("div",{staticClass:"clickable sortDiv"},[n("div",{staticClass:"menu-icon"},[n("i",{class:e.data.icon})]),e._v(" "),n("div",{staticClass:"menu-title"},[n("span",{domProps:{innerHTML:e._s(e.getTitle(e.data))}}),e._v("\n\n            | "),n("span",{staticClass:"link-to"},[e._v("\n            "+e._s(e.data.link_to)+"\n            "),"crud"!=e.data.link_to&&"noAction"!=e.data.link_to?n("span",[e._v("\n                | "+e._s(e.data.url)+"\n            ")]):e._e()])]),e._v(" "),n("div",{staticClass:"menu-control"},[n("span",[e._v(" ")]),e._v(" "),"crud"==e.data.link_to?n("span",[n("Checkbox",{attrs:{disabled:!e.permissions[e.data.id].show},model:{value:e.permissions[e.data.id].c,callback:function(t){e.$set(e.permissions[e.data.id],"c",t)},expression:"permissions[data.id].c"}},[e._v("C")]),e._v(" "),n("Checkbox",{attrs:{disabled:!e.permissions[e.data.id].show},model:{value:e.permissions[e.data.id].r,callback:function(t){e.$set(e.permissions[e.data.id],"r",t)},expression:"permissions[data.id].r"}},[e._v("R")]),e._v(" "),n("Checkbox",{attrs:{disabled:!e.permissions[e.data.id].show},model:{value:e.permissions[e.data.id].u,callback:function(t){e.$set(e.permissions[e.data.id],"u",t)},expression:"permissions[data.id].u"}},[e._v("U")]),e._v(" "),n("Checkbox",{attrs:{disabled:!e.permissions[e.data.id].show},model:{value:e.permissions[e.data.id].d,callback:function(t){e.$set(e.permissions[e.data.id],"d",t)},expression:"permissions[data.id].d"}},[e._v("D")]),e._v(" "),n("Button",{attrs:{type:"text",size:"small",icon:e.extend?"ios-arrow-down":"ios-arrow-forward"},on:{click:e.showUserData}})],1):e._e(),e._v(" "),n("i-switch",{attrs:{size:"small"},on:{"on-change":function(t){return e.changePermissionPre("show",t)}},model:{value:e.permissions[e.data.id].show,callback:function(t){e.$set(e.permissions[e.data.id],"show",t)},expression:"permissions[data.id].show"}})],1)]),e._v(" "),e.data.children&&e.data.children.length>=1?n("ul",{staticClass:"dd-list"},e._l(e.data.children,(function(t,o){return n(e.element(),{key:o,tag:"component",attrs:{menuIndex:e.getIndex(o),data:t,cruds:e.cruds,permissions:e.permissions}})})),1):e._e(),e._v(" "),e.extend?n("div",{staticClass:"user-data"},[e.loading?n("div",{staticClass:"loader"},[e._m(0)]):e._e(),e._v(" "),e.loading?e._e():n("Row",[n("Col",{attrs:{span:"12"}},[e._v("\n                Форм | Form (Авах утга) "),n("br"),e._v(" "),n("div",[n("Row",[n("Col",{attrs:{span:"10"}},[n("Select",{attrs:{filterable:"",placeholder:"Хэрэглэгчийн багана"},model:{value:e.formUser,callback:function(t){e.formUser=t},expression:"formUser"}},e._l(e.user_fields,(function(t){return n("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),e._v(" "),n("Col",{attrs:{span:"10"}},[n("Select",{attrs:{filterable:"",placeholder:"Шүүлт хийх багана"},model:{value:e.formField,callback:function(t){e.formField=t},expression:"formField"}},e._l(e.form_fields,(function(t){return n("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),e._v(" "),n("Col",{attrs:{span:"4"}},[n("Button",{attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:e.addFrom}})],1)],1)],1),e._v(" "),n("div",e._l(e.formCondition,(function(t,o){return n("Row",{key:o},[n("Col",{attrs:{span:"10"}},[e._v("\n                           "+e._s(t.user_field)+"\n                       ")]),e._v(" "),n("Col",{attrs:{span:"10"}},[e._v("\n                           "+e._s(t.form_field)+"\n                       ")]),e._v(" "),n("Col",{attrs:{span:"4"}},[n("Button",{attrs:{type:"primary",shape:"circle",icon:"ios-trash"},on:{click:function(t){return e.deleteFrom(o)}}})],1)],1)})),1)]),e._v(" "),n("Col",{attrs:{span:"12"}},[e._v("\n                Жагсаалт | Grid (шүүлтүүр)\n                "),n("br"),e._v(" "),n("div",[n("Row",[n("Col",{attrs:{span:"10"}},[n("Select",{attrs:{filterable:"",placeholder:"Хэрэглэгчийн багана"},model:{value:e.gridUser,callback:function(t){e.gridUser=t},expression:"gridUser"}},e._l(e.user_fields,(function(t){return n("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),e._v(" "),n("Col",{attrs:{span:"10"}},[n("Select",{attrs:{filterable:"",placeholder:"Утга багана"},model:{value:e.gridField,callback:function(t){e.gridField=t},expression:"gridField"}},e._l(e.grid_fields,(function(t){return n("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),e._v(" "),n("Col",{attrs:{span:"4"}},[n("Button",{attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:e.addGrid}})],1)],1)],1),e._v(" "),n("div",e._l(e.gridCondition,(function(t,o){return n("Row",{key:o},[n("Col",{attrs:{span:"10"}},[e._v("\n                            "+e._s(t.user_field)+"\n                        ")]),e._v(" "),n("Col",{attrs:{span:"10"}},[e._v("\n                            "+e._s(t.grid_field)+"\n                        ")]),e._v(" "),n("Col",{attrs:{span:"4"}},[n("Button",{attrs:{type:"primary",shape:"circle",icon:"ios-trash"},on:{click:function(t){return e.deleteGrid(o)}}})],1)],1)})),1)])],1)],1):e._e()])}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader-wrapper"},[n("div",{staticClass:"lds-roller"},[n("div"),e._v(" "),n("div"),e._v(" "),n("div"),e._v(" "),n("div"),e._v(" "),n("div"),e._v(" "),n("div"),e._v(" "),n("div"),e._v(" "),n("div")]),e._v(" "),n("h3",[e._v("Түр хүлээнэ үү")])])}],!1,null,null,null).exports},29135:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={components:{MenuItem:n(71201).Z},name:"roles",data:function(){return{roles:[],menus:[],cruds:[],selectedMenu:null,menuIndex:null,selectedRole:null,loading:!0,showRoleForm:!1,loadingForm:!1,roleForm:{name:"",display_name:"",description:""},extra:{datasourcce:!1,moqup:!1,chart:!1,userlist:!1,excelupload:!1,approve:!1,hascustomcreatebtn:!1},editID:null,ruleRole:{name:[{required:!0,message:"Нэр оруулна уу",trigger:"blur"}],display_name:[{required:!0,message:"Харагдах нэр оруулна уу",trigger:"blur"}]}}},methods:{getMenuUrl:function(e){var t="#/p/"+e;this.selectedMenu&&(this.selectedMenu.items.findIndex((function(t){return t.id==e}))>=0?t="#/p/"+e:this.selectedMenu.items.forEach((function(n){n.children.findIndex((function(t){return t.id==e}))>=0?t="#/p/"+n.id+"/"+e:n.children.forEach((function(o){o.children.findIndex((function(t){return t.id==e}))>=0&&(t="#/p/"+n.id+"/"+o.id+"/"+e)}))})));return t},addRole:function(){this.showRoleForm=!0},editRole:function(e){console.log(e),this.roleForm.name=e.name,this.roleForm.display_name=e.display_name,this.roleForm.description=e.description,this.editID=e.id,this.showRoleForm=!0},deleteRole:function(e){var t=this;axios.delete("/lambda/puzzle/roles/destroy/".concat(e)).then((function(e){t.$Message.success("Амжилттай устгагдлаа"),t.getData()})).catch((function(e){t.loadingForm=!1,t.$Message.error("Уучлаарай алдаа гарлаа")}))},saveRoleForm:function(){var e=this;this.$refs.roleForm.validate((function(t){if(t){e.loadingForm=!0;var n=e.editID?"/lambda/puzzle/roles/store/".concat(e.editID):"/lambda/puzzle/roles/create";axios.post(n,r({},e.roleForm)).then((function(t){e.getData(),e.closeRole(),e.$Message.success("Амжилттай хадаглагдлаа")})).catch((function(t){e.loadingForm=!1,e.$Message.error("Уучлаарай алдаа гарлаа")}))}}))},closeRole:function(){this.showRoleForm=!1,this.editID=null,this.loadingForm=!1,this.roleForm={name:"",display_name:"",description:""},this.selectedMenu=null,this.menuIndex=null,this.selectedRole=null},getData:function(){var e=this;this.loading=!0,axios.get("/lambda/puzzle/roles-menus").then((function(t){t.data.status&&(e.roles=t.data.roles.map((function(e){return null!=e.permissions&&""!=e.permissions&&(e.permissions=JSON.parse(e.permissions)),e})),e.cruds=t.data.cruds,e.menus=t.data.menus.map((function(e,t){var n=JSON.parse(e.schema);return{id:e.id,menuIndex:t,title:e.name,items:n}})),e.loading=!1)}))},selectMenu:function(e){this.selectedMenu=this.menus[e],e>=0?this.initPermissions({}):this.roles[this.selectedRole].permissions={menu_id:null,default_menu:null,permissions:{},extra:{datasource:!1,moqup:!1,chart:!1,userlist:!1,excelupload:!1,approve:!1,hascustomcreatebtn:!1}}},selectRole:function(e){var t=this;if(this.selectedRole=e,null===this.roles[this.selectedRole].permissions||""==this.roles[this.selectedRole].permissions)this.selectedMenu=null,this.menuIndex=null,this.extra={datasource:!1,moqup:!1,chart:!1},this.roles[this.selectedRole].permissions={menu_id:null,default_menu:null,permissions:{},extra:{datasource:!1,moqup:!1,chart:!1,userlist:!1,excelupload:!1,approve:!1,hascustomcreatebtn:!1}};else{var n=this.menus.findIndex((function(e){return e.id==t.roles[t.selectedRole].permissions.menu_id}));n>=0&&(this.selectedMenu=null,setTimeout((function(){t.selectedMenu=JSON.parse(JSON.stringify(t.menus[n])),t.menuIndex=n,t.initPermissions(t.roles[t.selectedRole].permissions.permissions,t.roles[t.selectedRole].permissions.default_menu)}),100))}},changePermission:function(e,t,n){},initPermissions:function(e,t){var n=this.roles[this.selectedRole].permissions,o=null;o=n.extra?r({},n.extra):r({},this.extra),this.roles[this.selectedRole].permissions={menu_id:this.selectedMenu.id,default_menu:t,permissions:this.getPermissions(e||{},this.selectedMenu.items),extra:o}},getPermissions:function(e,t){var n=this,o={};return t.map((function(t){if(e.hasOwnProperty(t.id)?o[t.id]=r({},e[t.id]):"crud"==t.link_to?o[t.id]={menu_id:t.id,c:!1,r:!1,u:!1,d:!1,show:!1,title:n.getTitle(t)}:o[t.id]={menu_id:t.id,show:!1,title:n.getTitle(t)},t.children.length>=1){var i=n.getPermissions(e,t.children);o=r(r({},o),i)}})),o},saveRole:function(){var e=this;this.roles[this.selectedRole].permissions?this.roles[this.selectedRole].permissions.default_menu?axios.post("/lambda/puzzle/save-role",{id:this.roles[this.selectedRole].id,permissions:this.roles[this.selectedRole].permissions,extra:r({},this.extra)}).then((function(t){e.$Message.success("Амжилттай хадаглагдлаа")})).catch((function(t){e.$Message.error("Уучлаарай алдаа гарлаа")})):this.$Message.error("Анхдагч цэс сонгоно уу"):this.$Message.error("Цэс сонгоно уу")},getTitle:function(e){if("crud"==e.link_to){var t=this.cruds.findIndex((function(t){return t.id==e.url}));return t>=0?this.cruds[t].title:""}return e.title}},mounted:function(){this.getData()},watch:{},computed:{permissions:function(){return null!==this.selectedRole&&this.roles[this.selectedRole].permissions?this.roles[this.selectedRole].permissions.permissions:{}},currentRole:function(){return null!==this.selectedRole?this.roles[this.selectedRole]:null}}};const a=(0,n(51900).Z)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"page"},[n("paper-header",{staticClass:"mini"},[n("user-control",{attrs:{slot:"right"},slot:"right"}),e._v(" "),n("div",{attrs:{slot:"nav"},slot:"nav"},[n("ul",[n("li",[n("router-link",{attrs:{to:"/role"}},[n("i",{staticClass:"ti-user"}),e._v(" "),n("span",[e._v("Хандах эрх удирдах")])])],1)])])],1),e._v(" "),n("section",{staticClass:"paper-page-body"},[n("div",{staticClass:"role-control"},[e.loading?n("div",{staticClass:"loader"},[e._m(0)]):e._e(),e._v(" "),n("div",{staticClass:"role-list"},[n("Button",{attrs:{icon:"md-add",type:"success",long:""},on:{click:e.addRole}},[e._v("Нэмэх")]),e._v(" "),n("ul",e._l(e.roles,(function(t,o){return n("li",{key:o,class:o==e.selectedRole?"active":""},[n("span",{staticClass:"role_name",on:{click:function(t){return e.selectRole(o)}}},[e._v("\n                              "+e._s(t.display_name)+"\n                          ")]),e._v(" "),n("Button",{staticClass:"edit-btn",attrs:{shape:"circle",icon:"md-create",size:"small"},on:{click:function(n){return e.editRole(t)}}}),e._v(" "),n("Button",{attrs:{shape:"circle",icon:"ios-trash",size:"small"},on:{click:function(n){return e.deleteRole(t.id)}}})],1)})),0)],1),e._v(" "),n("div",{staticClass:"role-config"},[null!=e.selectedRole?n("div",{attrs:{id:"menu-tree"}},[n("Select",{staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:"Цэс сонгох"},on:{"on-change":e.selectMenu},model:{value:e.menuIndex,callback:function(t){e.menuIndex=t},expression:"menuIndex"}},e._l(e.menus,(function(t){return n("Option",{key:t.menuIndex,attrs:{value:t.menuIndex}},[e._v(e._s(t.title)+"\n            ")])})),1),e._v(" "),Object.keys(e.permissions).length>=1?n("Select",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"Анхдагч цэс"},model:{value:e.roles[e.selectedRole].permissions.default_menu,callback:function(t){e.$set(e.roles[e.selectedRole].permissions,"default_menu",t)},expression:"roles[selectedRole].permissions.default_menu"}},e._l(Object.keys(e.permissions),(function(t){return e.permissions[t].show?n("Option",{key:e.permissions[t].menu_id,attrs:{value:e.getMenuUrl(e.permissions[t].menu_id)}},[e._v(e._s(e.permissions[t].title)+"\n            ")]):e._e()})),1):e._e(),e._v(" "),n("Button",{attrs:{icon:"android-done",type:"success"},on:{click:e.saveRole}},[e._v("Хадгалах")]),e._v(" "),null!=e.selectedMenu?n("ul",{staticClass:"menuTree listsClass"},e._l(e.selectedMenu.items,(function(t,o){return n("MenuItem",{key:o,attrs:{data:t,menuIndex:[o],cruds:e.cruds,permissions:e.permissions}})})),1):e._e(),e._v(" "),n("div",{staticClass:"advanced"},[n("h4",[e._v("Нэмэлт")]),e._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:e.roles[e.selectedRole].permissions.extra.datasource,callback:function(t){e.$set(e.roles[e.selectedRole].permissions.extra,"datasource",t)},expression:"roles[selectedRole].permissions.extra.datasource"}},[n("span",[e._v("Data source")])]),e._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:e.roles[e.selectedRole].permissions.extra.moqup,callback:function(t){e.$set(e.roles[e.selectedRole].permissions.extra,"moqup",t)},expression:"roles[selectedRole].permissions.extra.moqup"}},[n("span",[e._v("Moqup")])]),e._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:e.roles[e.selectedRole].permissions.extra.chart,callback:function(t){e.$set(e.roles[e.selectedRole].permissions.extra,"chart",t)},expression:"roles[selectedRole].permissions.extra.chart"}},[n("span",[e._v("Chart")])]),e._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:e.roles[e.selectedRole].permissions.extra.userlist,callback:function(t){e.$set(e.roles[e.selectedRole].permissions.extra,"userlist",t)},expression:"roles[selectedRole].permissions.extra.userlist"}},[n("span",[e._v("Хэрэглэгчийн жагсаалт")])]),e._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:e.roles[e.selectedRole].permissions.extra.excelupload,callback:function(t){e.$set(e.roles[e.selectedRole].permissions.extra,"excelupload",t)},expression:"roles[selectedRole].permissions.extra.excelupload"}},[n("span",[e._v("Импорт хийх")])]),e._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:e.roles[e.selectedRole].permissions.extra.hascustomcreatebtn,callback:function(t){e.$set(e.roles[e.selectedRole].permissions.extra,"hascustomcreatebtn",t)},expression:"roles[selectedRole].permissions.extra.hascustomcreatebtn"}},[n("span",[e._v("Бүртгэх")])]),e._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:e.roles[e.selectedRole].permissions.extra.approve,callback:function(t){e.$set(e.roles[e.selectedRole].permissions.extra,"approve",t)},expression:"roles[selectedRole].permissions.extra.approve"}},[n("span",[e._v("Баталгаажуулах")])])],1)],1):e._e(),e._v(" "),null===e.selectedRole?n("Alert",{attrs:{type:"info"}},[e._v("\n          Үүрэг сонгоно уу\n        ")]):e._e(),e._v(" "),n("Modal",{attrs:{title:"Үүрэг"},model:{value:e.showRoleForm,callback:function(t){e.showRoleForm=t},expression:"showRoleForm"}},[n("Form",{ref:"roleForm",attrs:{model:e.roleForm,rules:e.ruleRole}},[n("FormItem",{attrs:{prop:"name"}},[n("Input",{attrs:{type:"text",placeholder:"Нэр"},model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1),e._v(" "),n("FormItem",{attrs:{prop:"display_name"}},[n("Input",{attrs:{type:"text",placeholder:"Харагдах нэр"},model:{value:e.roleForm.display_name,callback:function(t){e.$set(e.roleForm,"display_name",t)},expression:"roleForm.display_name"}})],1),e._v(" "),n("FormItem",{attrs:{prop:"description"}},[n("Input",{attrs:{type:"textarea",placeholder:"Тайлбар"},model:{value:e.roleForm.description,callback:function(t){e.$set(e.roleForm,"description",t)},expression:"roleForm.description"}})],1),e._v(" "),n("FormItem",[n("Button",{attrs:{type:"primary",loading:e.loadingForm},on:{click:e.saveRoleForm}},[e._v("Хадгалах")]),e._v(" "),n("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"info"},on:{click:e.closeRole}},[e._v("Болих")])],1)],1),e._v(" "),n("footer",{attrs:{slot:"footer"},slot:"footer"})],1)],1)])])],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader-wrapper"},[n("div",{staticClass:"lds-roller"},[n("div"),e._v(" "),n("div"),e._v(" "),n("div"),e._v(" "),n("div"),e._v(" "),n("div"),e._v(" "),n("div"),e._v(" "),n("div"),e._v(" "),n("div")]),e._v(" "),n("h3",[e._v("Түр хүлээнэ үү")])])}],!1,null,null,null).exports},51900:(e,t,n)=>{"use strict";function o(e,t,n,o,r,i,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,{Z:()=>o})}},e=>{e.O(0,[204],(()=>{return t=19135,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=adminmodule.js.map