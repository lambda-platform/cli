(self.webpackChunk=self.webpackChunk||[]).push([[683],{46731:(t,i,e)=>{var s=[{path:"/p/:menu_id",component:e(16678).Z,children:[{path:":sub_menu_id",component:e(82095).Z}]},{path:"/module/:module",component:e(77913).Z},{name:"Error",path:"/*",component:e(88896).Z}];"undefined"!=typeof window&&window.Vue&&window.Vue.mixin({mounted:function(){var t=this;this.$nextTick((function(){t.$parent||t.$router.app.$router.addRoutes(s)}))}})},88896:(t,i,e)=>{"use strict";e.d(i,{Z:()=>r});const s={};const r=(0,e(51900).Z)(s,(function(){var t=this,i=t.$createElement;return(t._self._c||i)("h3",[t._v("\n    404 not found\n")])}),[],!1,null,null,null).exports},16678:(t,i,e)=>{"use strict";e.d(i,{Z:()=>r});const s={data:function(){return{options:{height:"1000px"},pageType:"",property:{template:"canvas",title:"",grid:null,form:null,form_width:800,view_url:null,actions:[],user_condition:null,permissions:{c:!1,r:!1,u:!1,d:!1}},iframeUrl:"",submenu:[],showSub:!1,menu:window.init.menu,cruds:window.init.cruds,permissions:window.init.permissions.permissions,pageTitle:""}},methods:{checkSub:function(){var t=this,i=this.menu.findIndex((function(i){return i.id==t.$route.params.menu_id}));if(i>=0)if(this.menu[i].children.length>=1)if(this.pageTitle=this.getTitle(this.menu[i]),this.pageTitle=this.getTitle(this.menu[i]),this.$route.matched.length<=1){var e=this.getShowAbleChild(this.menu[i].children);e&&this.$router.push("/p/".concat(this.$route.params.menu_id,"/").concat(e.id))}else this.subMenu=this.menu[i].children,this.showSub=!0;else this.showSub=!1,this.getPage()},getShowAbleChild:function(t){var i=this,e=t.findIndex((function(t){return i.can(t)}));return e>=0?t[e]:null},can:function(t){return!!this.permissions[t.id]&&!!this.permissions[t.id].show},getTitle:function(t){if("crud"==t.link_to){var i=this.cruds.findIndex((function(i){return i.id==t.url}));return i>=0?this.cruds[i].title:""}return t.title},getPage:function(){var t=this,i=this.menu.findIndex((function(i){return i.id==t.$route.params.menu_id}));if(i>=0){var e=this.menu[i];switch(this.pageType=e.link_to,this.pageType){case"crud":var s=this.cruds.findIndex((function(t){return t.id==e.url}));if(s>=0){this.property.title=this.cruds[s].title,this.property.grid=this.cruds[s].grid,this.property.form=this.cruds[s].form,this.property.form_width=this.cruds[s].form_width?this.cruds[s].form_width:null,this.property.view_url=this.cruds[s].view_url,this.property.permissions.c=this.permissions[e.id].c,this.property.permissions.r=this.permissions[e.id].r,this.property.permissions.u=this.permissions[e.id].u,this.property.permissions.d=this.permissions[e.id].d;var r={};this.permissions[e.id].formCondition&&(r.formCondition=this.permissions[e.id].formCondition),this.permissions[e.id].gridCondition&&(r.gridCondition=this.permissions[e.id].gridCondition),r&&(this.property.user_condition=r)}break;case"link":window.location=this.menu[i].url;break;case"router-link":console.log(this.menu[i].url),this.$router.push(this.menu[i].url);break;case"iframe":this.iframeUrl=e.url}}}},mounted:function(){this.checkSub()}};const r=(0,e(51900).Z)(s,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("section",{staticClass:"page"},[t.showSub?e("router-view",{key:t.$route.path},[t.showSub?e("nav",{attrs:{slot:"v-nav"},slot:"v-nav"},[e("div",{staticClass:"card sub-nav-list"},[e("h3",{staticClass:"card-header"},[t._v(t._s(t.pageTitle))]),t._v(" "),e("ul",{staticClass:"card-body"},t._l(t.subMenu,(function(i,s){return t.can(i)?e("li",{key:s},["link"!=i.link_to?e("router-link",{attrs:{to:"/p/"+t.$route.params.menu_id+"/"+i.id}},[i.icon?e("i",{class:i.icon}):t._e(),t._v(" "),e("span",{domProps:{innerHTML:t._s(t.getTitle(i))}})]):t._e(),t._v(" "),"link"==i.link_to?e("a",{attrs:{href:i.url,target:"_blank"}},[i.icon?e("i",{class:i.icon}):t._e(),t._v(" "),e("span",{domProps:{innerHTML:t._s(t.getTitle(i))}})]):t._e()],1):t._e()})),0)])]):t._e()]):t._e(),t._v(" "),t.showSub?t._e():e("div",{class:"iframe"==t.pageType?"iframe-page":"sub-page"},["crud"==t.pageType?e("krud",{staticClass:"material",attrs:{template:t.property.template,property:t.property}},[e("user-control",{attrs:{slot:"right"},slot:"right"})],1):t._e(),t._v(" "),"iframe"==t.pageType?e("iframe",{attrs:{src:t.iframeUrl}}):t._e()],1)],1)}),[],!1,null,null,null).exports},77913:(t,i,e)=>{"use strict";e.d(i,{Z:()=>s});const s=(0,e(51900).Z)({},(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("section",["agent"==t.$route.params.module?e("agent",[e("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e(),t._v(" "),"profile"==t.$route.params.module?e("agent-form",{attrs:{type:"profile"}},[e("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e(),t._v(" "),"password"==t.$route.params.module?e("agent-form",{attrs:{type:"password"}},[e("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e(),t._v(" "),"notify"==t.$route.params.module?e("notif-list"):t._e(),t._v(" "),"logger"==t.$route.params.module?e("logger"):t._e()],1)}),[],!1,null,null,null).exports},82095:(t,i,e)=>{"use strict";e.d(i,{Z:()=>r});const s={data:function(){return{pageType:"",menu:window.init.menu,cruds:window.init.cruds,permissions:window.init.permissions.permissions,property:{template:"canvas",title:"",grid:null,form:null,form_width:null,view_url:null,actions:[],user_condition:null,permissions:{c:!1,r:!1,u:!1,d:!1}},iframeUrl:""}},methods:{getPage:function(){var t=this,i=this.menu.findIndex((function(i){return i.id==t.$route.params.menu_id}));if(i>=0){var e=this.menu[i].children.findIndex((function(i){return i.id==t.$route.params.sub_menu_id}));if(e>=0){var s=this.menu[i].children[e];if(this.pageType=s.link_to,"crud"==this.pageType){var r=this.cruds.findIndex((function(t){return t.id==s.url}));if(r>=0){this.property.title=this.cruds[r].title,this.property.grid=this.cruds[r].grid,this.property.form=this.cruds[r].form,this.property.form_width=this.cruds[r].form_width?this.cruds[r].form_width:null,this.property.view_url=this.cruds[r].view_url,this.property.permissions.c=this.permissions[s.id].c,this.property.permissions.r=this.permissions[s.id].r,this.property.permissions.u=this.permissions[s.id].u,this.property.permissions.d=this.permissions[s.id].d;var n={};this.permissions[s.id].formCondition&&(n.formCondition=this.permissions[s.id].formCondition),this.permissions[s.id].gridCondition&&(n.gridCondition=this.permissions[s.id].gridCondition),n&&(this.property.user_condition=n)}}else"iframe"==this.pageType&&(this.iframeUrl=s.url)}}}},mounted:function(){this.getPage()}};const r=(0,e(51900).Z)(s,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{class:(t.pageType,"")},["crud"==t.pageType?e("krud",{staticClass:"material",attrs:{template:t.property.template,property:t.property}},[e("template",{slot:"nav"},[t._t("nav")],2),t._v(" "),e("template",{slot:"v-nav"},[t._t("v-nav")],2),t._v(" "),e("user-control",{attrs:{slot:"right"},slot:"right"})],2):t._e(),t._v(" "),"iframe"==t.pageType?e("div",{staticClass:"material"},[e("section",{staticClass:"offcanvas-template"},[e("div",{staticClass:"crud-page"},[t._m(0),t._v(" "),e("div",{staticClass:"crud-page-body"},[e("div",{staticClass:"v-nav"},[t._t("v-nav")],2),t._v(" "),e("div",{staticClass:"dg-flex"},[e("div",{staticClass:"iframe-page"},["iframe"==t.pageType?e("iframe",{attrs:{src:t.iframeUrl}}):t._e()])])])])])]):t._e()],1)}),[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"crud-page-header"},[i("h3")])}],!1,null,null,null).exports},51900:(t,i,e)=>{"use strict";function s(t,i,e,s,r,n,o,a){var u,l="function"==typeof t?t.options:t;if(i&&(l.render=i,l.staticRenderFns=e,l._compiled=!0),s&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=a?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var d=l.render;l.render=function(t,i){return u.call(i),d(t,i)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,u):[u]}return{exports:t,options:l}}e.d(i,{Z:()=>s})}},0,[[46731,245]]]);
//# sourceMappingURL=page.js.map