webpackJsonp([17],{"+B8x":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("NYxO");function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.default={computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},Object(r.mapGetters)({menuMode:"menuMode",withoutHeader:"withoutHeader"})),data:function(){return{options:{height:"1000px"},pageType:"",property:{withCrudLog:window.init.withCrudLog,withoutHeader:!1,page_id:null,template:"canvas",mode:window.init.crud_mode?window.init.crud_mode:void 0,title:"",grid:null,form:null,form_width:800,view_url:null,actions:[],user_condition:null,permissions:{c:!1,r:!1,u:!1,d:!1}},iframeUrl:"",iframeTitle:"",submenu:[],showSub:!1,menu:window.init.menu,cruds:window.init.cruds,permissions:window.init.permissions.permissions,pageTitle:"",subMenuId:"0",showNestedMenu:!1}},methods:{checkSub:function(){var e=this,t=this.menu.findIndex(function(t){return t.id==e.$route.params.menu_id});if(t>=0)if(this.menu[t].children.length>=1)if(this.menu[t].children.forEach(function(t,i){t.children.length>=1&&(e.showNestedMenu=!0,e.$route.params.sub_menu_id==t.id&&(e.subMenuId=t.id))}),this.pageTitle=this.getTitle(this.menu[t]),this.pageTitle=this.getTitle(this.menu[t]),this.$route.matched.length<=1){var i=this.getShowAbleChild(this.menu[t].children);i&&this.$router.push("/p/".concat(this.$route.params.menu_id,"/").concat(i.id))}else this.subMenu=this.menu[t].children,this.showSub=!0;else this.showSub=!1,this.getPage()},getShowAbleChild:function(e){var t=this,i=e.findIndex(function(e){return t.can(e)});return i>=0?e[i]:null},can:function(e){return!!this.permissions[e.id]&&!!this.permissions[e.id].show},getTitle:function(e){if("crud"==e.link_to){var t=this.cruds.findIndex(function(t){return t.id==e.url});return t>=0?this.cruds[t].title:""}return e.title},getPage:function(){var e=this,t=this.menu.findIndex(function(t){return t.id==e.$route.params.menu_id});if(t>=0){var i=this.menu[t];switch(this.pageType=i.link_to,this.pageType){case"crud":var r=this.cruds.findIndex(function(e){return e.id==i.url});if(r>=0){this.property.page_id=i.id,this.property.title=this.cruds[r].title,this.property.withoutHeader=this.withoutHeader,this.property.grid=this.cruds[r].grid,this.property.form=this.cruds[r].form,this.property.form_width=this.cruds[r].form_width?this.cruds[r].form_width:null,this.property.view_url=this.cruds[r].view_url,this.property.permissions.c=this.permissions[i.id].c,this.property.permissions.r=this.permissions[i.id].r,this.property.permissions.u=this.permissions[i.id].u,this.property.permissions.d=this.permissions[i.id].d;var n={};this.permissions[i.id].formCondition&&(n.formCondition=this.permissions[i.id].formCondition),this.permissions[i.id].gridCondition&&(n.gridCondition=this.permissions[i.id].gridCondition),n&&(this.property.user_condition=n)}break;case"link":window.location=this.menu[t].url;break;case"router-link":console.log(this.menu[t].url),this.$router.push(this.menu[t].url);break;case"iframe":this.iframeUrl=i.url,this.iframeTitle=i.title}}}},mounted:function(){this.checkSub()}}},"0bi2":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.showSub?i("div",[i("router-view",{key:e.$route.path},[i("template",{slot:"nav"},[e._t("nav")],2),e._v(" "),i("template",{slot:"v-nav"},[e._t("v-nav")],2)],2)],1):e._e(),e._v(" "),e.showSub?e._e():i("div",{class:(e.pageType,"")},["crud"==e.pageType?i("krud",{staticClass:"material",attrs:{template:e.property.template,property:e.property}},[i("template",{slot:"nav"},[e._t("nav")],2),e._v(" "),i("template",{slot:"v-nav"},[e._t("v-nav")],2),e._v(" "),i("user-control",{attrs:{slot:"right"},slot:"right"})],2):e._e(),e._v(" "),"iframe"==e.pageType?i("div",{staticClass:"material"},[i("section",{staticClass:"offcanvas-template"},[i("div",{staticClass:"crud-page"},[e._m(0),e._v(" "),i("div",{staticClass:"crud-page-body"},[i("div",{staticClass:"v-nav"},[e._t("v-nav")],2),e._v(" "),i("div",{staticClass:"dg-flex"},[i("div",{staticClass:"iframe-page"},["iframe"==e.pageType?i("iframe",{attrs:{src:e.iframeUrl}}):e._e()])])])])])]):e._e()],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"crud-page-header"},[t("h3")])}]}},"17L9":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"page"},[e.showSub?i("router-view",{key:e.$route.path},[i("nav",{directives:[{name:"show",rawName:"v-show",value:e.showSub&&"nested"!=e.menuMode,expression:"showSub && menuMode != 'nested'"}],attrs:{slot:"v-nav"},slot:"v-nav"},[i("div",{staticClass:"card sub-nav-list"},[i("h3",{staticClass:"card-header"},[e._v(e._s(e.pageTitle))]),e._v(" "),e.showNestedMenu?i("Collapse",{attrs:{simple:""},model:{value:e.subMenuId,callback:function(t){e.subMenuId=t},expression:"subMenuId"}},e._l(e.subMenu,function(t,r){return e.can(t)&&t.children.length>=1?i("Panel",{key:r,attrs:{name:t.id}},[i("span",{domProps:{innerHTML:e._s(e.getTitle(t))}}),e._v(" "),i("ul",{staticClass:"card-body",attrs:{slot:"content"},slot:"content"},e._l(t.children,function(r,n){return e.can(r)?i("li",{key:n},["link"!=r.link_to?i("router-link",{attrs:{to:"/p/"+e.$route.params.menu_id+"/"+t.id+"/"+r.id}},[r.icon?i("i",{class:r.icon}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.getTitle(r))}})]):e._e(),e._v(" "),"link"==r.link_to?i("a",{attrs:{href:r.url,target:"_blank"}},[r.icon?i("i",{class:r.icon}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.getTitle(r))}})]):e._e()],1):e._e()}),0)]):e._e()}),1):e._e(),e._v(" "),i("ul",{staticClass:"card-body"},e._l(e.subMenu,function(t,r){return e.can(t)&&t.children.length<=0?i("li",{key:r},["link"!=t.link_to?i("router-link",{attrs:{to:"/p/"+e.$route.params.menu_id+"/"+t.id}},[t.icon?i("i",{class:t.icon}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.getTitle(t))}})]):e._e(),e._v(" "),"link"==t.link_to?i("a",{attrs:{href:t.url,target:"_blank"}},[t.icon?i("i",{class:t.icon}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.getTitle(t))}})]):e._e()],1):e._e()}),0)],1)])]):e._e(),e._v(" "),e.showSub?e._e():i("div",{class:"iframe"==e.pageType?"iframe-page":"sub-page"},["crud"==e.pageType?i("krud",{staticClass:"material",attrs:{template:e.property.template,property:e.property}},[i("user-control",{attrs:{slot:"right"},slot:"right"})],1):e._e(),e._v(" "),"iframe"==e.pageType?i("iframe",{attrs:{src:e.iframeUrl}}):e._e(),e._v(" "),"iframe"==e.pageType&&e.withoutHeader?i("portal",{attrs:{to:"header-left"}},[i("h3",[e._v(e._s(e.iframeTitle))])]):e._e()],1)],1)},staticRenderFns:[]}},19:function(e,t,i){e.exports=i("Eg7Q")},"2YCl":function(e,t,i){var r=i("VU/8")(i("BZmM"),i("jx4l"),!1,null,null,null);e.exports=r.exports},BZmM:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("NYxO");function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.default={computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},Object(r.mapGetters)({menuMode:"menuMode",withoutHeader:"withoutHeader"})),created:function(){}}},CRpQ:function(e,t,i){var r=i("VU/8")(i("tF1p"),i("fJN8"),!1,null,null,null);e.exports=r.exports},Eg7Q:function(e,t,i){var r=[{path:"/p/:menu_id",component:i("P+7g"),children:[{path:":sub_menu_id",component:i("QMKs"),children:[{path:":sub_child_menu_id",component:i("CRpQ")}]}]},{path:"/module/:module",component:i("2YCl")}];"undefined"!=typeof window&&window.Vue&&window.Vue.mixin({mounted:function(){var e=this;this.$nextTick(function(){e.$router&&!e.$parent&&e.$router.app&&e.$router.app.$router.addRoutes(r)})}})},"P+7g":function(e,t,i){var r=i("VU/8")(i("+B8x"),i("17L9"),!1,null,null,null);e.exports=r.exports},QMKs:function(e,t,i){var r=i("VU/8")(i("YyXO"),i("0bi2"),!1,null,null,null);e.exports=r.exports},"VU/8":function(e,t){e.exports=function(e,t,i,r,n,s){var o,u=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(o=e,u=e.default);var d,c="function"==typeof u?u.options:u;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),n&&(c._scopeId=n),s?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=d):r&&(d=r),d){var p=c.functional,l=p?c.render:c.beforeCreate;p?(c._injectStyles=d,c.render=function(e,t){return d.call(t),l(e,t)}):c.beforeCreate=l?[].concat(l,d):[d]}return{esModule:o,exports:u,options:c}}},YyXO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("NYxO");function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.default={computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},Object(r.mapGetters)({menuMode:"menuMode",withoutHeader:"withoutHeader"})),data:function(){return{pageType:"",menu:window.init.menu,cruds:window.init.cruds,permissions:window.init.permissions.permissions,property:{withCrudLog:window.init.withCrudLog,withoutHeader:!1,page_id:null,template:"canvas",mode:window.init.crud_mode?window.init.crud_mode:void 0,title:"",grid:null,form:null,form_width:null,view_url:null,actions:[],user_condition:null,permissions:{c:!1,r:!1,u:!1,d:!1}},iframeUrl:"",submenu:[],showSub:!1}},methods:{getPage:function(){var e=this,t=this.menu.findIndex(function(t){return t.id==e.$route.params.menu_id});if(t>=0){var i=this.menu[t].children.findIndex(function(t){return t.id==e.$route.params.sub_menu_id});if(i>=0){var r=this.menu[t].children[i];if(this.pageType=r.link_to,"crud"==this.pageType){var n=this.cruds.findIndex(function(e){return e.id==r.url});if(n>=0){this.property.page_id=r.id,this.property.withoutHeader=this.withoutHeader,this.property.title=this.cruds[n].title,this.property.grid=this.cruds[n].grid,this.property.form=this.cruds[n].form,this.property.view_url=this.cruds[n].view_url,this.property.permissions.c=this.permissions[r.id].c,this.property.permissions.r=this.permissions[r.id].r,this.property.permissions.u=this.permissions[r.id].u,this.property.permissions.d=this.permissions[r.id].d;var s={};this.permissions[r.id].formCondition&&(s.formCondition=this.permissions[r.id].formCondition),this.permissions[r.id].gridCondition&&(s.gridCondition=this.permissions[r.id].gridCondition),s&&(this.property.user_condition=s)}}else"iframe"==this.pageType&&(this.iframeUrl=r.url)}}},checkSub:function(){var e=this,t=this.menu.findIndex(function(t){return t.id==e.$route.params.menu_id});if(t>=0){var i=this.menu[t].children.findIndex(function(t){return t.id==e.$route.params.sub_menu_id});if(i>=0)if(this.menu[t].children[i].children.length>=1)if(this.$route.matched.length<=2){var r=this.getShowAbleChild(this.menu[t].children[i].children);r&&this.$router.push("/p/".concat(this.$route.params.menu_id,"/").concat(this.$route.params.sub_menu_id,"/").concat(r.id))}else this.subMenu=this.menu[t].children[i].children,this.showSub=!0;else this.showSub=!1,this.getPage();else this.showSub=!1,this.getPage()}},getShowAbleChild:function(e){var t=this,i=e.findIndex(function(e){return t.can(e)});return i>=0?e[i]:null},getTitle:function(e){if("crud"==e.link_to){var t=this.cruds.findIndex(function(t){return t.id==e.url});return t>=0?this.cruds[t].title:""}return e.title},can:function(e){return!!this.permissions[e.id]&&!!this.permissions[e.id].show}},mounted:function(){this.checkSub()}}},fJN8:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:(e.pageType,"")},["crud"==e.pageType?i("krud",{staticClass:"material",attrs:{template:e.property.template,property:e.property}},[i("template",{slot:"nav"},[e._t("nav")],2),e._v(" "),i("template",{slot:"v-nav"},[e._t("v-nav")],2),e._v(" "),i("user-control",{attrs:{slot:"right"},slot:"right"})],2):e._e(),e._v(" "),"iframe"==e.pageType?i("div",{staticClass:"material"},[i("section",{staticClass:"offcanvas-template"},[i("div",{staticClass:"crud-page"},[e._m(0),e._v(" "),i("div",{staticClass:"crud-page-body"},[i("div",{staticClass:"v-nav"},[e._t("v-nav")],2),e._v(" "),i("div",{staticClass:"dg-flex"},[i("div",{staticClass:"iframe-page"},["iframe"==e.pageType?i("iframe",{attrs:{src:e.iframeUrl}}):e._e()])])])])])]):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"crud-page-header"},[t("h3")])}]}},jx4l:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",["agent"==e.$route.params.module?i("agent",[i("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):e._e(),e._v(" "),"profile"==e.$route.params.module?i("agent-form",{attrs:{type:"profile",withoutHeader:e.withoutHeader}},[i("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):e._e(),e._v(" "),"password"==e.$route.params.module?i("agent-form",{attrs:{type:"password",withoutHeader:e.withoutHeader}},[i("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):e._e()],1)},staticRenderFns:[]}},tF1p:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("NYxO");function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.default={computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},Object(r.mapGetters)({menuMode:"menuMode",withoutHeader:"withoutHeader"})),data:function(){return{pageType:"",menu:window.init.menu,cruds:window.init.cruds,permissions:window.init.permissions.permissions,property:{withCrudLog:window.init.withCrudLog,withoutHeader:!1,page_id:null,template:"canvas",mode:window.init.crud_mode?window.init.crud_mode:void 0,title:"",grid:null,form:null,form_width:null,view_url:null,actions:[],user_condition:null,permissions:{c:!1,r:!1,u:!1,d:!1}},iframeUrl:""}},methods:{getPage:function(){var e=this,t=this.menu.findIndex(function(t){return t.id==e.$route.params.menu_id});if(t>=0){var i=this.menu[t].children.findIndex(function(t){return t.id==e.$route.params.sub_menu_id});if(i>=0){var r=this.menu[t].children[i].children.findIndex(function(t){return t.id==e.$route.params.sub_child_menu_id});if(r>=0){var n=this.menu[t].children[i].children[r];if(this.pageType=n.link_to,"crud"==this.pageType){var s=this.cruds.findIndex(function(e){return e.id==n.url});if(s>=0){this.property.withoutHeader=this.withoutHeader,this.property.page_id=n.id,this.property.title=this.cruds[s].title,this.property.grid=this.cruds[s].grid,this.property.form=this.cruds[s].form,this.property.form_width=this.cruds[s].form_width?this.cruds[s].form_width:null,this.property.view_url=this.cruds[s].view_url,this.property.permissions.c=this.permissions[n.id].c,this.property.permissions.r=this.permissions[n.id].r,this.property.permissions.u=this.permissions[n.id].u,this.property.permissions.d=this.permissions[n.id].d;var o={};this.permissions[n.id].formCondition&&(o.formCondition=this.permissions[n.id].formCondition),this.permissions[n.id].gridCondition&&(o.gridCondition=this.permissions[n.id].gridCondition),o&&(this.property.user_condition=o)}}else"iframe"==this.pageType&&(this.iframeUrl=n.url)}}}}},mounted:function(){this.getPage()}}}},[19]);