webpackJsonp([14],{"+ql2":function(t,e){function n(t){return function(e){window.setTimeout(e,t)}}t.exports={extend:function(t,e){for(var n in t=t||{},e)this.isObject(e[n])?t[n]=this.extend(t[n],e[n]):t[n]=e[n];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var e,n;if(this.isElement(t))e=t;else{if(!("string"==typeof t||t instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(!(e=document.querySelector(t)))throw new Error("Provided selector did not find any elements. Selector: "+t)}if("svg"===e.tagName.toLowerCase())n=e;else if("object"===e.tagName.toLowerCase())n=e.contentDocument.documentElement;else{if("embed"!==e.tagName.toLowerCase())throw"img"===e.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");n=e.getSVGDocument().documentElement}return n},proxy:function(t,e){return function(){return t.apply(e,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,e){if(void 0===t.clientX||null===t.clientX)if(t.clientX=0,t.clientY=0,void 0!==t.touches&&t.touches.length){if(void 0!==t.touches[0].clientX)t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY;else if(void 0!==t.touches[0].pageX){var n=e.getBoundingClientRect();t.clientX=t.touches[0].pageX-n.left,t.clientY=t.touches[0].pageY-n.top}}else void 0!==t.originalEvent&&void 0!==t.originalEvent.clientX&&(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)},isDblClick:function(t,e){if(2===t.detail)return!0;if(void 0!==e&&null!==e){var n=t.timeStamp-e.timeStamp,o=Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2));return n<250&&o<10}return!1},now:Date.now||function(){return(new Date).getTime()},throttle:function(t,e,n){var o,i,r,s=this,a=null,l=0;n||(n={});var u=function(){l=!1===n.leading?0:s.now(),a=null,r=t.apply(o,i),a||(o=i=null)};return function(){var c=s.now();l||!1!==n.leading||(l=c);var d=e-(c-l);return o=this,i=arguments,d<=0||d>e?(clearTimeout(a),a=null,l=c,r=t.apply(o,i),a||(o=i=null)):a||!1===n.trailing||(a=setTimeout(u,d)),r}},createRequestAnimationFrame:function(t){var e=null;return"auto"!==t&&t<60&&t>1&&(e=Math.floor(1e3/t)),null===e?window.requestAnimationFrame||n(33):n(e)}}},"/cxS":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[t.points&&t.points.length?n("g",{on:{mouseenter:t.mouseEnter,mouseleave:t.mouseLeave,mousedown:t.mouseDown}},[t._l(t.points,function(e,o){return n("g",{key:o,on:{mousedown:function(e){return t.mouseDownSegment(e,o)}}},[n("line",{style:t.largeStrokeStyle,attrs:{x1:0===o?t.x1:t.points[o-1].x,y1:0===o?t.y1:t.points[o-1].y,x2:e.x,y2:e.y,"stroke-width":"8"}}),t._v(" "),n("line",{staticStyle:{stroke:"rgb(0,0,0)"},attrs:{x1:0===o?t.x1:t.points[o-1].x,y1:0===o?t.y1:t.points[o-1].y,x2:e.x,y2:e.y,"stroke-width":"2"}})])}),t._v(" "),n("g",{on:{mousedown:function(e){return t.mouseDownSegment(e,t.points.length)}}},[n("line",{style:t.largeStrokeStyle,attrs:{x1:t.points[t.points.length-1].x,y1:t.points[t.points.length-1].y,x2:t.x2,y2:t.y2,"stroke-width":"8"}}),t._v(" "),n("line",{staticStyle:{stroke:"rgb(0,0,0)"},attrs:{x1:t.points[t.points.length-1].x,y1:t.points[t.points.length-1].y,x2:t.x2,y2:t.y2,"stroke-width":"2"}})])],2):n("g",{on:{mouseenter:t.mouseEnter,mouseleave:t.mouseLeave,mousedown:t.mouseDown}},[n("g",{on:{mousedown:function(e){return t.mouseDownSegment(e,0)}}},[n("path",{style:t.largeStrokeStyle,attrs:{d:t.curve,"stroke-width":"8",fill:"none"}}),t._v(" "),n("path",{staticStyle:{stroke:"rgb(0,0,0)"},attrs:{d:t.curve,"stroke-width":"2",fill:"none"}})])]),t._v(" "),t._l(t.points,function(e,o){return n("DiagramPoint",{key:o,attrs:{x:e.x,y:e.y},on:{mouseenter:function(n){return t.mouseEnterPoint(e)},mouseleave:function(n){return t.mouseLeavePoint(e)},mousedown:function(e){return t.mouseDownPoint(e,o)}}})})],2)},staticRenderFns:[]}},17:function(t,e,n){t.exports=n("rGS7")},"26o2":function(t,e,n){var o=n("iQ5J"),i=n("uud1"),r=n("+ql2"),s=n("x30w"),a=n("JiWF"),l=function(t,e){this.init(t,e)},u={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},c={passive:!0};l.prototype.init=function(t,e){var n=this;this.svg=t,this.defs=t.querySelector("defs"),s.setupSvgAttributes(this.svg),this.options=r.extend(r.extend({},u),e),this.state="none";var o=s.getBoundingClientRectNormalized(t);this.width=o.width,this.height=o.height,this.viewport=a(s.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(t,e){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(t,e)},onZoom:function(t){if(n.viewport&&n.options.onZoom)return n.options.onZoom(t)},beforePan:function(t,e){if(n.viewport&&n.options.beforePan)return n.options.beforePan(t,e)},onPan:function(t){if(n.viewport&&n.options.onPan)return n.options.onPan(t)},onUpdatedCTM:function(t){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(t)}});var l=this.getPublicInstance();l.setBeforeZoom(this.options.beforeZoom),l.setOnZoom(this.options.onZoom),l.setBeforePan(this.options.beforePan),l.setOnPan(this.options.onPan),l.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&i.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},l.prototype.setupHandlers=function(){var t=this,e=null;if(this.eventListeners={mousedown:function(n){var o=t.handleMouseDown(n,e);return e=n,o},touchstart:function(n){var o=t.handleMouseDown(n,e);return e=n,o},mouseup:function(e){return t.handleMouseUp(e)},touchend:function(e){return t.handleMouseUp(e)},mousemove:function(e){return t.handleMouseMove(e)},touchmove:function(e){return t.handleMouseMove(e)},mouseleave:function(e){return t.handleMouseUp(e)},touchleave:function(e){return t.handleMouseUp(e)},touchcancel:function(e){return t.handleMouseUp(e)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var o=n.length-1;o>=0;o--)this.eventListeners.hasOwnProperty(n[o])&&delete this.eventListeners[n[o]]}for(var i in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(i,this.eventListeners[i],!this.options.preventMouseEventsDefault&&c);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},l.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var t=this;this.wheelListener=function(e){return t.handleMouseWheel(e)};var e=!this.options.preventMouseEventsDefault;o.on(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!0}},l.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var t=!this.options.preventMouseEventsDefault;o.off(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!1}},l.prototype.handleMouseWheel=function(t){if(this.options.zoomEnabled&&"none"===this.state){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1);var e=t.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,o=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in t&&0===t.deltaMode&&t.wheelDelta&&(e=0===t.deltaY?0:Math.abs(t.wheelDelta)/t.deltaY),e=-.3<e&&e<.3?e:(e>0?1:-1)*Math.log(Math.abs(e)+10)/o;var i=this.svg.getScreenCTM().inverse(),r=s.getEventPoint(t,this.svg).matrixTransform(i),a=Math.pow(1+this.options.zoomScaleSensitivity,-1*e);this.zoomAtPoint(a,r)}},l.prototype.zoomAtPoint=function(t,e,n){var o=this.viewport.getOriginalState();n?(t=Math.max(this.options.minZoom*o.zoom,Math.min(this.options.maxZoom*o.zoom,t)),t/=this.getZoom()):this.getZoom()*t<this.options.minZoom*o.zoom?t=this.options.minZoom*o.zoom/this.getZoom():this.getZoom()*t>this.options.maxZoom*o.zoom&&(t=this.options.maxZoom*o.zoom/this.getZoom());var i=this.viewport.getCTM(),r=e.matrixTransform(i.inverse()),s=this.svg.createSVGMatrix().translate(r.x,r.y).scale(t).translate(-r.x,-r.y),a=i.multiply(s);a.a!==i.a&&this.viewport.setCTM(a)},l.prototype.zoom=function(t,e){this.zoomAtPoint(t,s.getSvgCenterPoint(this.svg,this.width,this.height),e)},l.prototype.publicZoom=function(t,e){e&&(t=this.computeFromRelativeZoom(t)),this.zoom(t,e)},l.prototype.publicZoomAtPoint=function(t,e,n){if(n&&(t=this.computeFromRelativeZoom(t)),"SVGPoint"!==r.getType(e)){if(!("x"in e&&"y"in e))throw new Error("Given point is invalid");e=s.createSVGPoint(this.svg,e.x,e.y)}this.zoomAtPoint(t,e,n)},l.prototype.getZoom=function(){return this.viewport.getZoom()},l.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},l.prototype.computeFromRelativeZoom=function(t){return t*this.viewport.getOriginalState().zoom},l.prototype.resetZoom=function(){var t=this.viewport.getOriginalState();this.zoom(t.zoom,!0)},l.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},l.prototype.reset=function(){this.resetZoom(),this.resetPan()},l.prototype.handleDblClick=function(t){var e;if((this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.options.controlIconsEnabled)&&(t.target.getAttribute("class")||"").indexOf("svg-pan-zoom-control")>-1)return!1;e=t.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var n=s.getEventPoint(t,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(e,n)},l.prototype.handleMouseDown=function(t,e){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),r.mouseAndTouchNormalize(t,this.svg),this.options.dblClickZoomEnabled&&r.isDblClick(t,e)?this.handleDblClick(t):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=s.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()))},l.prototype.handleMouseMove=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&this.options.panEnabled){var e=s.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(e.x-this.stateOrigin.x,e.y-this.stateOrigin.y);this.viewport.setCTM(n)}},l.prototype.handleMouseUp=function(t){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&(this.state="none")},l.prototype.fit=function(){var t=this.viewport.getViewBox(),e=Math.min(this.width/t.width,this.height/t.height);this.zoom(e,!0)},l.prototype.contain=function(){var t=this.viewport.getViewBox(),e=Math.max(this.width/t.width,this.height/t.height);this.zoom(e,!0)},l.prototype.center=function(){var t=this.viewport.getViewBox(),e=.5*(this.width-(t.width+2*t.x)*this.getZoom()),n=.5*(this.height-(t.height+2*t.y)*this.getZoom());this.getPublicInstance().pan({x:e,y:n})},l.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},l.prototype.pan=function(t){var e=this.viewport.getCTM();e.e=t.x,e.f=t.y,this.viewport.setCTM(e)},l.prototype.panBy=function(t){var e=this.viewport.getCTM();e.e+=t.x,e.f+=t.y,this.viewport.setCTM(e)},l.prototype.getPan=function(){var t=this.viewport.getState();return{x:t.x,y:t.y}},l.prototype.resize=function(){var t=s.getBoundingClientRectNormalized(this.svg);this.width=t.width,this.height=t.height;var e=this.viewport;e.options.width=this.width,e.options.height=this.height,e.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},l.prototype.destroy=function(){var t=this;for(var e in this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,null!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()}),this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(e,this.eventListeners[e],!this.options.preventMouseEventsDefault&&c);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),d=d.filter(function(e){return e.svg!==t.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},l.prototype.getPublicInstance=function(){var t=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return t.options.panEnabled=!0,t.pi},disablePan:function(){return t.options.panEnabled=!1,t.pi},isPanEnabled:function(){return!!t.options.panEnabled},pan:function(e){return t.pan(e),t.pi},panBy:function(e){return t.panBy(e),t.pi},getPan:function(){return t.getPan()},setBeforePan:function(e){return t.options.beforePan=null===e?null:r.proxy(e,t.publicInstance),t.pi},setOnPan:function(e){return t.options.onPan=null===e?null:r.proxy(e,t.publicInstance),t.pi},enableZoom:function(){return t.options.zoomEnabled=!0,t.pi},disableZoom:function(){return t.options.zoomEnabled=!1,t.pi},isZoomEnabled:function(){return!!t.options.zoomEnabled},enableControlIcons:function(){return t.options.controlIconsEnabled||(t.options.controlIconsEnabled=!0,i.enable(t)),t.pi},disableControlIcons:function(){return t.options.controlIconsEnabled&&(t.options.controlIconsEnabled=!1,i.disable(t)),t.pi},isControlIconsEnabled:function(){return!!t.options.controlIconsEnabled},enableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!0,t.pi},disableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!1,t.pi},isDblClickZoomEnabled:function(){return!!t.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return t.enableMouseWheelZoom(),t.pi},disableMouseWheelZoom:function(){return t.disableMouseWheelZoom(),t.pi},isMouseWheelZoomEnabled:function(){return!!t.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(e){return t.options.zoomScaleSensitivity=e,t.pi},setMinZoom:function(e){return t.options.minZoom=e,t.pi},setMaxZoom:function(e){return t.options.maxZoom=e,t.pi},setBeforeZoom:function(e){return t.options.beforeZoom=null===e?null:r.proxy(e,t.publicInstance),t.pi},setOnZoom:function(e){return t.options.onZoom=null===e?null:r.proxy(e,t.publicInstance),t.pi},zoom:function(e){return t.publicZoom(e,!0),t.pi},zoomBy:function(e){return t.publicZoom(e,!1),t.pi},zoomAtPoint:function(e,n){return t.publicZoomAtPoint(e,n,!0),t.pi},zoomAtPointBy:function(e,n){return t.publicZoomAtPoint(e,n,!1),t.pi},zoomIn:function(){return this.zoomBy(1+t.options.zoomScaleSensitivity),t.pi},zoomOut:function(){return this.zoomBy(1/(1+t.options.zoomScaleSensitivity)),t.pi},getZoom:function(){return t.getRelativeZoom()},setOnUpdatedCTM:function(e){return t.options.onUpdatedCTM=null===e?null:r.proxy(e,t.publicInstance),t.pi},resetZoom:function(){return t.resetZoom(),t.pi},resetPan:function(){return t.resetPan(),t.pi},reset:function(){return t.reset(),t.pi},fit:function(){return t.fit(),t.pi},contain:function(){return t.contain(),t.pi},center:function(){return t.center(),t.pi},updateBBox:function(){return t.updateBBox(),t.pi},resize:function(){return t.resize(),t.pi},getSizes:function(){return{width:t.width,height:t.height,realZoom:t.getZoom(),viewBox:t.viewport.getViewBox()}},destroy:function(){return t.destroy(),t.pi}}),this.publicInstance};var d=[];t.exports=function(t,e){var n=r.getSvg(t);if(null===n)return null;for(var o=d.length-1;o>=0;o--)if(d[o].svg===n)return d[o].instance.getPublicInstance();return d.push({svg:n,instance:new l(n,e)}),d[d.length-1].instance.getPublicInstance()}},"7yoi":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"svg[data-v-134cde82]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:Helvetica}",""])},C0SM:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SvgPanZoom",{style:{width:t.width+"px",height:t.height+"px",border:"1px solid #ccc"},attrs:{xmlns:"http://www.w3.org/2000/svg",zoomEnabled:t.zoomEnabled,id:"svgroot",panEnabled:t.panEnabled,controlIconsEnabled:!1,dblClickZoomEnabled:!1,fit:!1,center:!0,viewportSelector:"#svgroot2",preventMouseEventsDefault:!1,minZoom:-8,beforePan:t.beforePan}},[n("svg",{ref:"dragramRoot",staticClass:"svg-content",attrs:{id:"svgroot2",version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+t.width+" "+t.height,width:t.width,height:t.height,preserveAspectRatio:"xMinYMin meet"},on:{mousemove:t.mouseMove,mouseup:t.mouseUp}},[n("defs",[n("pattern",{attrs:{id:"smallGrid",width:"16",height:"16",patternUnits:"userSpaceOnUse"}},[n("path",{attrs:{d:"M 16 0 L 0 0 0 16",fill:"none",stroke:"gray","stroke-width":"0.5"}})]),t._v(" "),n("pattern",{attrs:{id:"grid",width:"80",height:"80",patternUnits:"userSpaceOnUse"}},[n("rect",{attrs:{width:"80",height:"80",fill:"url(#smallGrid)"}}),t._v(" "),n("path",{attrs:{d:"M 80 0 L 0 0 0 80",fill:"none",stroke:"gray","stroke-width":"1"}})])]),t._v(" "),n("rect",{ref:"grid",staticClass:"svg-pan-zoom_viewport",attrs:{x:"-5000px",y:"-5000px",width:"10000px",height:"10000px",fill:"url(#grid)"},on:{mousedown:t.clearSelection}}),t._v(" "),n("g",{ref:"viewPort",attrs:{id:"viewport",x:"50",y:"50"}},[t._l(t.model._model.links,function(e,o){return n("DiagramLink",{key:o,ref:"link-"+o,refInFor:!0,attrs:{positionFrom:e.positionFrom,positionTo:e.positionTo,points:e.points,id:e.id,index:o},on:{onStartDrag:t.startDragPoint,onCreatePoint:t.createPoint}})}),t._v(" "),t.newLink?n("line",{staticStyle:{stroke:"rgb(255,0,0)","stroke-width":"2"},attrs:{x1:t.getPortHandlePosition(t.newLink.startPortId).x-6,y1:t.getPortHandlePosition(t.newLink.startPortId).y,x2:t.convertXYtoViewPort(t.mouseX,0).x,y2:t.convertXYtoViewPort(0,t.mouseY).y}}):t._e(),t._v(" "),t._l(t.model._model.nodes,function(e,o){return n("DiagramNode",{key:o,ref:"node-"+o,refInFor:!0,attrs:{title:e.title,x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,deletable:e.deletable,ports:e.ports,selected:"nodes"===t.selectedItem.type&&t.selectedItem.index===o,index:o,all_checked:e.all_checked},on:{onStartDrag:t.startDragItem,selectAll:t.selectAll,delete:function(n){return t.model.deleteNode(e)}}},t._l(e.ports,function(i,r){return n("DiagramPort",{key:r,ref:"port-"+i.id,refInFor:!0,attrs:{id:i.id,nodeIndex:o,selectedNodeIndex:t.selectedNodeIndex,selectedFieldIndex:t.selectedFieldIndex,portIndex:r,y:t.getY(r),nodeWidth:e.width,type:i.type,checked:i.checked,f_index:i.f_index,field:i.field},on:{onStartDragNewLink:t.startDragNewLink,mouseUpPort:t.mouseUpPort,changeChecked:t.changeChecked,selectField:t.selectField}})}),1)})],2)])])],1)},staticRenderFns:[]}},En79:function(t,e,n){t.exports=n("jyFz")},FKkT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("En79"),i=n.n(o),r=n("u0WB"),s=n.n(r),a=(n("J8UF"),s.a,n("mtWM")),l=n.n(a);function u(t,e,n){if(t.nodes.length>=1){var o=function(t){var e=[];return t.nodes.map(function(t){t.ports.map(function(t){if(t.field.output&&"in"==t.type){t.field.alias_db&&""!=t.field.alias_db&&null!==t.field.alias_db&&void 0!==t.field.alias_db||(t.field.alias_db=t.field.name);var n=t.field.table+"."+t.field.name+" as "+t.field.alias_db,o=t.field.table+"."+t.field.name;if("none"!=t.field.aggregate)switch(t.field.aggregate){case"count":e.push("COUNT(".concat(o,") as ").concat(t.field.alias_db,"_count"));break;case"max":e.push("MAX(".concat(o,") as ").concat(t.field.alias_db,"_max"));break;case"min":e.push("MIN(".concat(o,") as ").concat(t.field.alias_db,"_min"));break;case"avg":e.push("AVG(".concat(o,") as ").concat(t.field.alias_db,"_avg"));break;case"sum":e.push("SUM(".concat(o,") as ").concat(t.field.alias_db,"_sum"));break;case"countDistinct":e.push("COUNT(DISTINCT ".concat(o,") as ").concat(t.field.alias_db,"_count_distinct"));break;case"avgDistinct":e.push("AVG(DISTINCT ".concat(o,") as ").concat(t.field.alias_db,"_avg_distinct"));break;case"sumDistinct":e.push("SUM(DISTINCT ".concat(o,") as ").concat(t.field.alias_db,"_sum_distinct"));break;default:e.push(n)}else e.push(n)}})}),e.join(", ")}(t),i=function(t){var e="";return t.links.map(function(n,o){var i,r=c(t,n.from),s=c(t,n.to),a=null,l=null;"out"==r.type?(a=s,l=r):(a=r,l=s),i="LEFT JOIN ".concat(a.table," on ").concat(l.table,".").concat(l.name," = ").concat(a.table,".").concat(a.name),o>=1?e=e+" "+i:e+=i}),e}(t),r=function(t){var e=[];return t.nodes.map(function(t){t.ports.map(function(t){t.field.output&&"none"!=t.field.sortType&&"in"==t.type&&e.push({sortOrder:t.field.sortOrder,sql:"".concat(t.field.alias_db," ").concat(t.field.sortType)})})}),(e=(e=_.orderBy(e,"sortOrder","asc")).map(function(t){return t.sql})).join(", ")}(t),s=function(t){var e=[];return t.nodes.map(function(t){t.ports.map(function(t){t.field.output&&t.field.groupBy&&"in"==t.type&&e.push({groupOrder:t.field.groupOrder,sql:"".concat(t.field.alias_db)})})}),(e=(e=_.orderBy(e,"groupOrder","asc")).map(function(t){return t.sql})).join(", ")}(t),a=t.nodes[0].title,l="";r&&(l="ORDER BY "+r);var u="";return s&&(u="GROUP BY "+s),e=null!==e?"WHERE "+e.sql:"",n&&(o=o+", "+n),"SELECT ".concat(o," FROM ").concat(a," ").concat(i," ").concat(e," ").concat(u," ").concat(l)}return"Хүснэгт сонгогдоогүй байна"}function c(t,e){var n={};return t.nodes.map(function(t){t.ports.map(function(t){e===t.id&&((n=t.field).type=t.type)})}),n}var d=n("ZVkR"),h=n.n(d);function p(t,e,n,o,i,r,s){try{var a=t[r](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(o,i)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var r=t.apply(e,n);function s(t){p(r,o,i,s,a,"next",t)}function a(t){p(r,o,i,s,a,"throw",t)}s(void 0)})}}window.jQuery=n("7t+N"),n("/xYi"),n("Ykld"),n("VX4q");e.default={props:["onCreate","onUpdate","src","editMode"],created:function(){this.init()},methods:{saveSchema:function(){var t=this,e={_model:this.model._model,extraQuery:this.extraQuery,withFilter:this.withFilter,filters:this.exportSQL(),query:this.getQueryPre()},n={name:this.viewName,schema:JSON.stringify(e)},o=this.$props.editMode?this.$props.src:"/lambda/puzzle/schema/datasource";l.a.post(o,n).then(function(e){e.data.status?(t.$Message.info("Амжилттай хадгаллаа"),t.$props.onCreate()):t.$Message.info("Хадгалах үед алдаа гарлаа!")})},init:function(){var t=this;1==this.$props.editMode&&l.a.get(this.$props.src).then(function(e){t.viewName=e.data.data.name;var n=JSON.parse(e.data.data.schema);console.log(n),n.extraQuery&&(t.extraQuery=n.extraQuery),n.withFilter&&(t.withFilter=n.withFilter),n.filters&&(t.filters=n.filters),t.model._model=n._model,t.doFilter(!0)}).catch(function(t){console.log(t)})},getFilterType:function(t){return t.indexOf("int")>=0?"integer":t.indexOf("float")>=0||t.indexOf("doable")>=0?"double":t.indexOf("date")>=0?"date":t.indexOf("datetime")>=0?"datetime":t.indexOf("time")>=0?"time":"string"},changeChecked:function(t,e){if(t>=0){var n=this.model._model.nodes[t].ports.findIndex(function(t){return!1===t.field.output});this.model._model.nodes[t].all_checked=!0,this.model._model.nodes[t].all_checked=!(n>=0)}this.doFilter(!0)},doFilter:function(t){var e=this;if(this.withFilter){var n=function(t){var e=[];return t.nodes.map(function(t){t.ports.map(function(t){t.field.output&&"in"==t.type&&e.push(t.field)})}),e}(this.model._model),o=n.map(function(t){return{id:t.alias_db,label:t.alias_db,type:e.getFilterType(t.dbType)}});if(n.length>=1){if(jQuery("#builder").queryBuilder("destroy"),jQuery("#builder").queryBuilder({filters:o,icons:{add_rule:"ivu-icon ivu-icon-plus",add_group:"ivu-icon ivu-icon-plus-circled",remove_group:"ivu-icon ivu-icon-trash-b",remove_rule:"ivu-icon ivu-icon-trash-b",error:"ivu-icon ivu-icon-trash-b"}}),null!==this.filters){var i=jQuery("#builder").queryBuilder("getRulesFromSQL",this.filters);null!=i&&jQuery("#builder").queryBuilder("setRules",i)}}else t||this.$Message.warning("Хүснэгтээс, багана байхгүй байна"),jQuery("#builder").queryBuilder("destroy")}else jQuery("#builder").queryBuilder("destroy")},exportSQL:function(){return this.withFilter?jQuery("#builder").queryBuilder("getSQL",!1):null},changeTab:function(t){this.properties=t},queryUpdated:function(t){this.query=t},selectField:function(t,e,n){this.selectedNodeIndex=t,this.selectedFieldIndex=e,this.field=n,this.properties="field"},getTableMeta:function(t){return f(i.a.mark(function e(){var n,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.init.dbSchema.tableMeta){e.next=11;break}if(!window.init.dbSchema.tableMeta[t]){e.next=5;break}return e.abrupt("return",window.init.dbSchema.tableMeta[t]);case 5:return e.next=7,l.a.get("/lambda/puzzle/table-schema/".concat(t));case 7:return n=e.sent,e.abrupt("return",n.data);case 9:e.next=15;break;case 11:return e.next=13,l.a.get("/lambda/puzzle/table-schema/".concat(t));case 13:return o=e.sent,e.abrupt("return",o.data);case 15:case"end":return e.stop()}},e)}))()},addTable:function(t,e){var n=this;return f(i.a.mark(function o(){var r,s,a,l;return i.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.getTableMeta(t);case 2:r=o.sent,s=r.map(function(e){return{name:e.model,dbType:e.dbType,alias:t+"_as_"+e.model,alias_db:e.model,output:!1,sortType:"none",sortOrder:1,groupBy:!1,groupOrder:1,aggregate:"none",table:t}}),a=e?250*e:240*n.model._model.nodes.length,l=n.model.addNode(t,a+20,30,160,20*s.length+50),s.map(function(t,e){l.addInPort(t,e),l.addOutPort(t,e)});case 7:case"end":return o.stop()}},o)}))()},createDiagram:function(){var t=this,e=document.getElementById("data-source-editor");this.editorW=e.clientWidth,this.editorH=e.clientHeight,this.tables.map(function(e,n){t.addTable(e,n)})},previewData:function(){},getQueryPre:function(){var t=this.exportSQL(),e=u(this.model._model,t,this.extraQuery);return h.a.format(e)},previewQuery:function(){this.sql_query=this.getQueryPre()},getTables:function(){this.createDiagram()}},data:function(){return{model:new s.a.Model,tableList:window.init.dbSchema.tableList,tableMeta:window.init.dbSchema.tableMeta,viewList:window.init.dbSchema.viewList,tables:[],source_tables:[],queryModal:!1,withFilter:!1,search:"",sql_query:"",editorW:0,editorH:0,selectedNodeIndex:null,selectedFieldIndex:null,field:{name:""},filters:null,properties:"main",viewName:"",extraQuery:"",query:null}},mounted:function(){this.getTables()},components:{Diagram:s.a},computed:{total_nodes:function(){return this.model._model.nodes.length}},watch:{total_nodes:function(t,e){var n=this;e<=0&&t>=1&&this.editMode&&this.model._model.nodes.map(function(t,e){if(window.init.dbSchema.tableMeta)if(window.init.dbSchema.tableMeta[t.title]){var o=window.init.dbSchema.tableMeta[t.title];o.map(function(o,i){var r=!1;t.ports.map(function(t){t.field.name==o.model&&(r=!0)}),t.ports.map(function(t){t.field.name==o.model&&(r=!0)}),r||(n.model._model.nodes[e].ports.push({f_index:i,field:{name:o.model,dbType:o.dbType,alias:t.title+"_as_"+o.model,alias_db:o.model,output:!0,sortType:"none",sortOrder:1,groupBy:!1,groupOrder:1,aggregate:"none",table:t.title},id:t.title+"_as_"+o.model+"_in",type:"in"}),n.model._model.nodes[e].ports.push({f_index:i,field:{name:o.model,dbType:o.dbType,alias:t.title+"_as_"+o.model,alias_db:o.model,output:!0,sortType:"none",sortOrder:1,groupBy:!1,groupOrder:1,aggregate:"none",table:t.title},id:t.title+"_as_"+o.model+"_out",type:"out"}))}),t.ports.map(function(e,n){var i=!1;o.map(function(t,n){e.field.name==t.model&&(i=!0)}),i||t.ports.splice(n,1)}),n.model._model.nodes[e].height=20*o.length+50}else l.a.get("/lambda/puzzle/table-schema/".concat(t.title)).then(function(o){var i=o.data;i.map(function(o,i){var r=!1;t.ports.map(function(t){t.field.name==o.model&&(r=!0)}),t.ports.map(function(t){t.field.name==o.model&&(r=!0)}),r||(n.model._model.nodes[e].ports.push({f_index:i,field:{name:o.model,dbType:o.dbType,alias:t.title+"_as_"+o.model,alias_db:o.model,output:!0,sortType:"none",sortOrder:1,groupBy:!1,groupOrder:1,aggregate:"none",table:t.title},id:t.title+"_as_"+o.model+"_in",type:"in"}),n.model._model.nodes[e].ports.push({f_index:i,field:{name:o.model,dbType:o.dbType,alias:t.title+"_as_"+o.model,alias_db:o.model,output:!0,sortType:"none",sortOrder:1,groupBy:!1,groupOrder:1,aggregate:"none",table:t.title},id:t.title+"_as_"+o.model+"_out",type:"out"}))}),t.ports.map(function(e,n){var o=!1;i.map(function(t,n){e.field.name==t.model&&(o=!0)}),o||t.ports.splice(n,1)}),n.model._model.nodes[e].height=20*i.length+50});else l.a.get("/lambda/puzzle/table-schema/".concat(t.title)).then(function(o){var i=o.data;i.map(function(o,i){var r=!1;t.ports.map(function(t){t.field.name==o.model&&(r=!0)}),t.ports.map(function(t){t.field.name==o.model&&(r=!0)}),r||(n.model._model.nodes[e].ports.push({f_index:i,field:{name:o.model,dbType:o.dbType,alias:t.title+"_as_"+o.model,alias_db:o.model,output:!0,sortType:"none",sortOrder:1,groupBy:!1,groupOrder:1,aggregate:"none",table:t.title},id:t.title+"_as_"+o.model+"_in",type:"in"}),n.model._model.nodes[e].ports.push({f_index:i,field:{name:o.model,dbType:o.dbType,alias:t.title+"_as_"+o.model,alias_db:o.model,output:!0,sortType:"none",sortOrder:1,groupBy:!1,groupOrder:1,aggregate:"none",table:t.title},id:t.title+"_as_"+o.model+"_out",type:"out"}))}),t.ports.map(function(e,n){var o=!1;i.map(function(t,n){e.field.name==t.model&&(o=!0)}),o||t.ports.splice(n,1)}),n.model._model.nodes[e].height=20*i.length+50})})}}}},G3B0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("R89y"),i=n.n(o);e.default={name:"DiagramLink",props:["positionFrom","positionTo","id","index","points"],components:{DiagramPoint:i.a},data:function(){return{largeStrokeStyle:"stroke:rgba(255,0,0,0.0);",pointStyleNormal:"stroke:rgba(255,0,0,0.0); stroke-width: 6",pointStyleHover:"stroke:rgba(255,0,0,0.5); stroke-width: 6"}},methods:{mouseEnter:function(){this.largeStrokeStyle="stroke:rgba(255,0,0,0.5);"},mouseLeave:function(){this.largeStrokeStyle="stroke:rgba(255,0,0,0.0);"},mouseDownPoint:function(t,e){this.$emit("onStartDrag",{type:"points",linkIndex:this.index,pointIndex:e})},mouseDown:function(t){},mouseDownSegment:function(t,e){this.createPoint(t.x,t.y,e),this.mouseDownPoint(t,e)},createPoint:function(t,e,n){this.$emit("onCreatePoint",t,e,this.index,n)}},computed:{x1:function(){return this.positionFrom.x-6},y1:function(){return this.positionFrom.y-4},x2:function(){return this.positionTo.x-4},y2:function(){return this.positionTo.y-4},curve:function(){if(this.positionFrom.x&&this.positionFrom.y){var t=Math.trunc(this.positionFrom.x-6),e=Math.trunc(this.positionFrom.y-4),n=Math.trunc(this.positionTo.x-4),o=Math.trunc(this.positionTo.y-4),i=Math.trunc(4*Math.sqrt(Math.abs(t-n)));return"M".concat(t,",").concat(e," C").concat(t+i,",").concat(e," ").concat(n-i,",").concat(o," ").concat(n,",").concat(o)}}}}},J8UF:function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(e,n,o,i,r,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.title=n,this.x=o,this.y=i,this.width=r,this.height=s,this.ports=[]}var e,n,i;return e=t,(n=[{key:"addInPort",value:function(t,e){var n={id:t.alias+"_in",type:"in",f_index:e,field:t};return this.ports.push(n),n.id}},{key:"addOutPort",value:function(t,e){var n={id:t.alias+"_out",type:"out",f_index:e,field:t};return this.ports.push(n),n.id}}])&&o(e.prototype,n),i&&o(e,i),t}();function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){return Math.trunc(1e3*Math.random())},a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._model={nodes:[],links:[]}}var e,n,o;return e=t,(n=[{key:"addNode",value:function(t,e,n,o,r){var a=new i(s(),t,e,n,o,r);return this._model.nodes.push(a),a}},{key:"deleteNode",value:function(t){for(var e=this._model.nodes.indexOf(t),n=0;n<this._model.links.length;n++)for(var o=this._model.links[n],i=0;i<t.ports.length;i++){var r=t.ports[i];o.from!==r.id&&o.to!==r.id||(this.deleteLink(o),n--)}this._model.nodes.splice(e,1)}},{key:"deleteLink",value:function(t){var e=this._model.links.indexOf(t);this._model.links.splice(e,1)}},{key:"addLink",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this._model.links.push({id:s(),from:t,to:e,positionFrom:{},positionTo:{},points:n})}},{key:"serialize",value:function(){return JSON.stringify(this._model)}},{key:"deserialize",value:function(t){this._model=JSON.parse(t)}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=a},JiWF:function(t,e,n){var o=n("x30w"),i=n("+ql2"),r=function(t,e){this.init(t,e)};r.prototype.init=function(t,e){this.viewport=t,this.options=e,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=i.proxy(this.updateCTM,this),this.requestAnimationFrame=i.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()},r.prototype.cacheViewBox=function(){var t=this.options.svg.getAttribute("viewBox");if(t){var e=t.split(/[\s\,]/).filter(function(t){return t}).map(parseFloat);this.viewBox.x=e[0],this.viewBox.y=e[1],this.viewBox.width=e[2],this.viewBox.height=e[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},r.prototype.simpleViewBoxCache=function(){var t=this.viewport.getBBox();this.viewBox.x=t.x,this.viewBox.y=t.y,this.viewBox.width=t.width,this.viewBox.height=t.height},r.prototype.getViewBox=function(){return i.extend({},this.viewBox)},r.prototype.processCTM=function(){var t,e=this.getCTM();(this.options.fit||this.options.contain)&&(t=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),e.a=t,e.d=t,e.e=-this.viewBox.x*t,e.f=-this.viewBox.y*t);if(this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*e.a),o=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*e.a);e.e=n,e.f=o}return this.originalState.zoom=e.a,this.originalState.x=e.e,this.originalState.y=e.f,e},r.prototype.getOriginalState=function(){return i.extend({},this.originalState)},r.prototype.getState=function(){return i.extend({},this.activeState)},r.prototype.getZoom=function(){return this.activeState.zoom},r.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},r.prototype.computeRelativeZoom=function(t){return t/this.originalState.zoom},r.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},r.prototype.getCTM=function(){var t=this.options.svg.createSVGMatrix();return t.a=this.activeState.zoom,t.b=0,t.c=0,t.d=this.activeState.zoom,t.e=this.activeState.x,t.f=this.activeState.y,t},r.prototype.setCTM=function(t){var e=this.isZoomDifferent(t),n=this.isPanDifferent(t);if(e||n){if(e&&(!1===this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(t.a))?(t.a=t.d=this.activeState.zoom,e=!1):(this.updateCache(t),this.options.onZoom(this.getRelativeZoom()))),n){var o=this.options.beforePan(this.getPan(),{x:t.e,y:t.f}),r=!1,s=!1;!1===o?(t.e=this.getPan().x,t.f=this.getPan().y,r=s=!0):i.isObject(o)&&(!1===o.x?(t.e=this.getPan().x,r=!0):i.isNumber(o.x)&&(t.e=o.x),!1===o.y?(t.f=this.getPan().y,s=!0):i.isNumber(o.y)&&(t.f=o.y)),r&&s||!this.isPanDifferent(t)?n=!1:(this.updateCache(t),this.options.onPan(this.getPan()))}(e||n)&&this.updateCTMOnNextFrame()}},r.prototype.isZoomDifferent=function(t){return this.activeState.zoom!==t.a},r.prototype.isPanDifferent=function(t){return this.activeState.x!==t.e||this.activeState.y!==t.f},r.prototype.updateCache=function(t){this.activeState.zoom=t.a,this.activeState.x=t.e,this.activeState.y=t.f},r.prototype.pendingUpdate=!1,r.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},r.prototype.updateCTM=function(){var t=this.getCTM();o.setCTM(this.viewport,t,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(t)},t.exports=function(t,e){return new r(t,e)}},LUwA:function(t,e,n){t.exports=function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=5)}([function(t,e){t.exports=function(t,e,n,o,i,r){var s,a=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,a=t.default);var u,c="function"==typeof a?a.options:a;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId=i),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=u):o&&(u=o),u){var d=c.functional,h=d?c.render:c.beforeCreate;d?(c._injectStyles=u,c.render=function(t,e){return u.call(e),h(t,e)}):c.beforeCreate=h?[].concat(h,u):[u]}return{esModule:s,exports:a,options:c}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(2)),r=o(n(8)),s=o(n(9)),a=o(n(3));e.default={props:r.default,components:{SvgPanZoomThumbnail:a.default},computed:{has_thumbnail:function(){return this.$slots.thumbnail},options:function(){var t=this,e={};return Object.keys(r.default).filter(function(e){return void 0!==t[e]}).forEach(function(n){return e[n]=t[n]}),e}},mounted:function(){var t=this,e={};Object.keys(r.default).filter(function(e){return void 0!==t[e]}).forEach(function(n){return e[n]=t[n]});var n=void 0;this.has_thumbnail?(this.$slots.thumbnail[0].elm.id="thumbView",n=(0,s.default)({mainViewId:this.$slots.default[0].elm.id,thumbViewId:"thumbView"})):n=(0,i.default)(this.$slots.default[0].elm,e),this.$emit("svgpanzoom",n)}}},function(t,e){t.exports=n("bNUd")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);var s=n(11),a=function(t){n(10)},l=n(0)(i.a,s.a,!1,a,null,null);e.default=l.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=e.SvgPanZoomThumbnail={};e.default=o},function(t,e,n){t.exports=n(6)},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SvgPanZoom=void 0;var i=o(n(7));o(n(3)),e.SvgPanZoom=i.default,e.default=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);var s=n(12),a=n(0)(i.a,s.a,!1,null,null,null);e.default=a.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={zoomEnabled:{type:Boolean,default:!0},controlIconsEnabled:{type:Boolean,default:!1},fit:{type:Boolean,default:!0},panEnabled:{type:Boolean,default:!0},dblClickZoomEnabled:{type:Boolean,default:!0},mouseWheelZoomEnabled:{type:Boolean,default:!0},preventMouseEventsDefault:{type:Boolean,default:!0},contain:{type:Boolean,default:!1},center:{type:Boolean,default:!0},viewportSelector:{default:".svg-pan-zoom_viewport"},zoomScaleSensitivity:{default:.2},minZoom:{default:.5},maxZoom:{default:10},refreshRate:{default:"auto"},beforeZoom:{},onZoom:{},beforePan:{},onPan:{},onUpdatedCTM:{},customEventsHandler:{},eventsListenerElement:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=function(t){var e=t.contentDocument;if(!e)try{e=t.getSVGDocument()}catch(n){e=t}return e},n=function(e,n){if(!window.main&&e&&(window.main=e),!window.thumb&&n&&(window.thumb=n),window.main&&window.thumb){var o;window.addEventListener("resize",function(t){!1!==o&&clearTimeout(o),o=setTimeout(function(){window.main.resize(),window.thumb.resize()},300)}),window.main.setOnZoom(function(e){window.thumb.updateThumbScope(),t.onZoom&&t.onZoom(window.main,window.thumb,e)}),window.main.setOnPan(function(e){window.thumb.updateThumbScope(),t.onPan&&t.onPan(window.main,window.thumb,e)});window.thumb.updateThumbScope=function(){var t=document.getElementById("scope");document.getElementById("line1"),document.getElementById("line2"),function(t,e,n,o,i){var r=t.getPan().x,s=t.getPan().y,a=t.getSizes().width,l=t.getSizes().height,u=t.getSizes().realZoom,c=e.getPan().x,d=e.getPan().y,h=e.getSizes().realZoom/u,p=c-r*h,f=d-s*h,m=a*h,v=l*h;n.setAttribute("x",p+1),n.setAttribute("y",f+1),n.setAttribute("width",m-2),n.setAttribute("height",v-2)}(window.main,window.thumb,t)},window.thumb.updateThumbScope();var i=function(t){if(0==t.which&&0==t.button)return!1;var e=document.getElementById("scopeContainer");!function(t,e,n,o,i){var r=n.getBoundingClientRect(),s=(o.getSizes().width,o.getSizes().height,o.getSizes().realZoom),a=i.getSizes().width,l=i.getSizes().height,u=i.getSizes().realZoom,c=-(t-r.left-a/2)*s/u,d=-(e-r.top-l/2)*s/u;o.pan({x:c,y:d})}(t.clientX,t.clientY,e,window.main,window.thumb)},r=document.getElementById("scopeContainer");r.addEventListener("click",function(t){i(t)}),r.addEventListener("mousemove",function(t){i(t)})}},i=document.getElementById(t.mainViewId);console.log(i),i.addEventListener("load",function(){var r=e(i);t.onMainViewSVGLoaded&&t.onMainViewSVGLoaded(r);var s=(0,o.default)("#"+t.mainViewId,{zoomEnabled:!0,controlIconsEnabled:!0,fit:!1,center:!0,beforePan:function(t,e){var n=this.getSizes(),o=-(n.viewBox.x+n.viewBox.width)*n.realZoom+100,i=n.width-100-n.viewBox.x*n.realZoom,r=-(n.viewBox.y+n.viewBox.height)*n.realZoom+100,s=n.height-100-n.viewBox.y*n.realZoom,a={};return a.x=Math.max(o,Math.min(i,e.x)),a.y=Math.max(r,Math.min(s,e.y)),a}});n(s,void 0),t.onMainViewShown&&t.onMainViewShown(r,s)},!1);var r=document.getElementById(t.thumbViewId);return r.addEventListener("load",function(){var i=e(r);t.onThumbnailSVGLoaded&&t.onThumbnailSVGLoaded(i);var s=(0,o.default)("#"+t.thumbViewId,{zoomEnabled:!1,panEnabled:!1,controlIconsEnabled:!1,dblClickZoomEnabled:!1,preventMouseEventsDefault:!0});n(void 0,s),t.onThumbnailShown&&t.onThumbnailShown(i,s)},!1),main};var o=function(t){return t&&t.__esModule?t:{default:t}}(n(2))},function(t,e){},function(t,e,n){"use strict";var o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"thumbViewContainer"}},[n("svg",{staticClass:"thumbViewClass",attrs:{id:"scopeContainer"}},[n("g",[n("rect",{attrs:{id:"scope",fill:"red","fill-opacity":"0.1",stroke:"red","stroke-width":"2px",x:"0",y:"0",width:"0",height:"0"}}),t._v(" "),n("line",{attrs:{id:"line1",stroke:"red","stroke-width":"2px",x1:"0",y1:"0",x2:"0",y2:"0"}}),t._v(" "),n("line",{attrs:{id:"line2",stroke:"red","stroke-width":"2px",x1:"0",y1:"0",x2:"0",y2:"0"}})])]),t._v(" "),t._t("default")],2)},staticRenderFns:[]};e.a=o},function(t,e,n){"use strict";var o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default"),t._v(" "),t.has_thumbnail?n("SvgPanZoomThumbnail",[t._t("thumbnail")],2):t._e()],2)},staticRenderFns:[]};e.a=o}])},O0yT:function(t,e){t.exports=function(t,e){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],s=r[0],a={id:t+":"+i,css:r[1],media:r[2],sourceMap:r[3]};o[s]?o[s].parts.push(a):n.push(o[s]={id:s,parts:[a]})}return n}},R65D:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"data-source"},[n("div",{staticClass:"data-source-sidebar"},[n("div",{staticClass:"data-source-header"},[n("h3",[n("Button",{attrs:{shape:"circle",size:"small",icon:"md-arrow-back"}}),t._v("\n                Өгөгдөл боловсруулах\n            ")],1)]),t._v(" "),n("div",{staticClass:"data-source-sidebar-wrapper"},[n("div",{staticClass:"field-editor"},[n("h5",{staticClass:"ve-title",staticStyle:{"font-size":"12px"}},[t._v("Шинж чанар")]),t._v(" "),n("Tabs",{attrs:{value:t.properties},on:{"on-click":t.changeTab}},[n("TabPane",{attrs:{label:"Үндсэн",name:"main"}},[n("div",[n("Input",{staticClass:"table-col-search",attrs:{placeholder:"Нэр...",size:"small"},model:{value:t.viewName,callback:function(e){t.viewName=e},expression:"viewName"}}),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("Input",{staticClass:"table-col-search",attrs:{placeholder:"Нэмэлт query",size:"small"},model:{value:t.extraQuery,callback:function(e){t.extraQuery=e},expression:"extraQuery"}}),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("Checkbox",{on:{"on-change":t.doFilter},model:{value:t.withFilter,callback:function(e){t.withFilter=e},expression:"withFilter"}},[n("Icon",{attrs:{type:"search"}}),t._v(" "),n("span",[t._v("\n                                        Шүүлтүүр\n                                    ")])],1),t._v(" "),n("br"),t._v(" "),n("div",{attrs:{id:"builder"}})],1)]),t._v(" "),n("TabPane",{attrs:{label:"Багана",name:"field"}},[n("div",[n("table",[n("tr",[n("td",[t._v("\n                                        Aggregation:\n                                    ")]),t._v(" "),n("td",[n("Select",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:t.field.aggregate,callback:function(e){t.$set(t.field,"aggregate",e)},expression:"field.aggregate"}},[n("Option",{attrs:{value:"none"}},[t._v("Үгүй")]),t._v(" "),n("Option",{attrs:{value:"count"}},[t._v("Count")]),t._v(" "),n("Option",{attrs:{value:"max"}},[t._v("Max")]),t._v(" "),n("Option",{attrs:{value:"min"}},[t._v("Min")]),t._v(" "),n("Option",{attrs:{value:"avg"}},[t._v("Avg")]),t._v(" "),n("Option",{attrs:{value:"sum"}},[t._v("Sum")]),t._v(" "),n("Option",{attrs:{value:"countDistinct"}},[t._v("CountDistinct")]),t._v(" "),n("Option",{attrs:{value:"avgDistinct"}},[t._v("AvgDistinct")]),t._v(" "),n("Option",{attrs:{value:"sumDistinct"}},[t._v("SumDistinct")])],1)],1)]),t._v(" "),n("tr",[n("td",[t._v("\n                                        Эрэмбэлэх:\n                                    ")]),t._v(" "),n("td",[n("Select",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:t.field.sortType,callback:function(e){t.$set(t.field,"sortType",e)},expression:"field.sortType"}},[n("Option",{attrs:{value:"none"}},[t._v("Эрэмблэхгүй")]),t._v(" "),n("Option",{attrs:{value:"ASC"}},[t._v("A-Z")]),t._v(" "),n("Option",{attrs:{value:"DESC"}},[t._v("Z-A")])],1)],1)]),t._v(" "),n("tr",[n("td",{attrs:{colspan:"2"}},[n("Checkbox",{attrs:{size:"small"},model:{value:t.field.output,callback:function(e){t.$set(t.field,"output",e)},expression:"field.output"}},[t._v("Хэрэглэх\n                                        ")])],1)]),t._v(" "),n("tr",[n("td",{attrs:{colspan:"2"}},[n("Checkbox",{attrs:{size:"small"},model:{value:t.field.groupBy,callback:function(e){t.$set(t.field,"groupBy",e)},expression:"field.groupBy"}},[t._v("Бүлэглэх\n                                        ")])],1)]),t._v(" "),n("tr",[n("td",[t._v("\n                                        Нэр:\n                                    ")]),t._v(" "),n("td",[n("Input",{staticClass:"table-col-search",attrs:{disabled:"",size:"small"},model:{value:t.field.name,callback:function(e){t.$set(t.field,"name",e)},expression:"field.name"}})],1)]),t._v(" "),n("tr",[n("td",[t._v("\n                                        Төрөл:\n                                    ")]),t._v(" "),n("td",[n("Input",{staticClass:"table-col-search",attrs:{disabled:"",size:"small"},model:{value:t.field.dbType,callback:function(e){t.$set(t.field,"dbType",e)},expression:"field.dbType"}})],1)]),t._v(" "),n("tr",[n("td",[t._v("\n                                        Зохиомол нэр:\n                                    ")]),t._v(" "),n("td",[n("Input",{staticClass:"table-col-search",attrs:{disabled:!t.field.output,placeholder:"",size:"small"},model:{value:t.field.alias_db,callback:function(e){t.$set(t.field,"alias_db",e)},expression:"field.alias_db"}})],1)]),t._v(" "),n("tr",[n("td",[t._v("\n                                        Эрэмбэлэх #:\n                                    ")]),t._v(" "),n("td",[n("InputNumber",{staticClass:"table-col-search",attrs:{min:1,disabled:"none"==t.field.sortType,type:"number",size:"small"},model:{value:t.field.sortOrder,callback:function(e){t.$set(t.field,"sortOrder",e)},expression:"field.sortOrder"}})],1)]),t._v(" "),n("tr",[n("td",[t._v("\n                                        Бүлэглэх #:\n                                    ")]),t._v(" "),n("td",[n("InputNumber",{staticClass:"table-col-search",attrs:{min:1,disabled:!t.field.groupBy,type:"number",size:"small"},model:{value:t.field.groupOrder,callback:function(e){t.$set(t.field,"groupOrder",e)},expression:"field.groupOrder"}})],1)])])])])],1)],1),t._v(" "),n("div",{staticClass:"table-selector"},[n("h5",{staticClass:"ve-title",staticStyle:{"font-size":"12px"}},[t._v(' Боломжиж "table" болон "view"')]),t._v(" "),n("br"),t._v(" "),n("h5",[t._v("Table list\n\n                ")]),t._v(" "),t._l(t.tableList,function(e,o){return n("Button",{key:o,staticClass:"data-source-table",attrs:{icon:"ios-list",type:"ghost",long:""},on:{click:function(n){return t.addTable(e)}}},[t._v("\n                    "+t._s(e)+"\n                ")])}),t._v(" "),n("h5",[t._v("View list")]),t._v(" "),t._l(t.viewList,function(e,o){return n("Button",{key:o,staticClass:"data-source-table",attrs:{icon:"ios-list-box",type:"ghost",long:""},on:{click:function(n){return t.addTable(e)}}},[t._v("\n                    "+t._s(e)+"\n                ")])})],2)])]),t._v(" "),n("div",{staticClass:"data-source-workspace"},[n("div",{staticClass:"data-source-header"},[n("div",{staticClass:"data-source-header-buttons"},[n("Button",{attrs:{icon:"ios-eye"}},[t._v("Өгөгдөл\n                ")]),t._v(" "),n("Button",{attrs:{type:"success"},on:{click:t.saveSchema}},[t._v("Хадгалах\n                ")])],1)]),t._v(" "),n("div",{staticClass:"data-source-wrapper",attrs:{id:"data-source-editor"}},[t.editorH>=1&&t.editorW>=1?n("diagram",{attrs:{model:t.model,width:t.editorW,height:t.editorH,selectedNodeIndex:t.selectedNodeIndex,selectedFieldIndex:t.selectedFieldIndex},on:{selectField:t.selectField,changeChecked:t.changeChecked}}):t._e()],1)])])},staticRenderFns:[]}},R89y:function(t,e,n){var o=n("VU/8")(n("x+GE"),n("nHMw"),!1,null,null,null);t.exports=o.exports},SldL:function(t,e){!function(e){"use strict";var n,o=Object.prototype,i=o.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag",u="object"==typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{(c=e.regeneratorRuntime=u?t.exports:{}).wrap=w;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",m={},v={};v[s]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(I([])));y&&y!==o&&i.call(y,s)&&(v=y);var b=E.prototype=_.prototype=Object.create(v);S.prototype=b.constructor=E,E.constructor=S,E[l]=S.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(b),t},c.awrap=function(t){return{__await:t}},k(M.prototype),M.prototype[a]=function(){return this},c.AsyncIterator=M,c.async=function(t,e,n,o){var i=new M(w(t,e,n,o));return c.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},k(b),b[l]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},c.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(z),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(o,i){return a.type="throw",a.arg=t,e.next=o,i&&(e.method="next",e.arg=n),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),z(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;z(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:I(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=n),m}}}function w(t,e,n,o){var i=e&&e.prototype instanceof _?e:_,r=Object.create(i.prototype),s=new T(o||[]);return r._invoke=function(t,e,n){var o=d;return function(i,r){if(o===p)throw new Error("Generator is already running");if(o===f){if("throw"===i)throw r;return N()}for(n.method=i,n.arg=r;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=x(t,e,n);if("normal"===l.type){if(o=n.done?f:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=f,n.method="throw",n.arg=l.arg)}}}(t,n,s),r}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function _(){}function S(){}function E(){}function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function M(t){var e;this._invoke=function(n,o){function r(){return new Promise(function(e,r){!function e(n,o,r,s){var a=x(t[n],t,o);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,r,s)},function(t){e("throw",t,r,s)}):Promise.resolve(u).then(function(t){l.value=t,r(l)},s)}s(a.arg)}(n,o,e,r)})}return e=e?e.then(r,r):r()}}function C(t,e){var o=t.iterator[e.method];if(o===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,C(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=x(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function z(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function e(){for(;++o<t.length;)if(i.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=n,e.done=!0,e};return r.next=r}}return{next:N}}function N(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},"VU/8":function(t,e){t.exports=function(t,e,n,o,i,r){var s,a=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,a=t.default);var u,c="function"==typeof a?a.options:a;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId=i),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=u):o&&(u=o),u){var d=c.functional,h=d?c.render:c.beforeCreate;d?(c._injectStyles=u,c.render=function(t,e){return u.call(e),h(t,e)}):c.beforeCreate=h?[].concat(h,u):[u]}return{esModule:s,exports:a,options:c}}},VX4q:function(t,e){(function(t){"use strict";var e=jQuery.fn.queryBuilder;e.regional.mn={__locale:"Mongolia (mn)",__author:"Munkh-Altai Chuluunbaatar, munkaltai@gmail.com",add_rule:"Дүрэм",add_group:"Бүлэг",delete_rule:"Устгах",delete_group:"Устгах",conditions:{AND:"AND",OR:"OR"},operators:{equal:"=",not_equal:"!=",in:"in",not_in:"not in",less:"<",less_or_equal:"<=",greater:">",greater_or_equal:">=",between:"between",not_between:"not between",begins_with:"begins with",not_begins_with:"doesn't begin with",contains:"contains",not_contains:"doesn't contain",ends_with:"ends with",not_ends_with:"doesn't end with",is_empty:"is empty",is_not_empty:"is not empty",is_null:"is null",is_not_null:"is not null"},errors:{no_filter:"No filter selected",empty_group:"The group is empty",radio_empty:"No value selected",checkbox_empty:"No value selected",select_empty:"No value selected",string_empty:"Empty value",string_exceed_min_length:"Must contain at least {0} characters",string_exceed_max_length:"Must not contain more than {0} characters",string_invalid_format:"Invalid format ({0})",number_nan:"Not a number",number_not_integer:"Not an integer",number_not_double:"Not a real number",number_exceed_min:"Must be greater than {0}",number_exceed_max:"Must be lower than {0}",number_wrong_step:"Must be a multiple of {0}",number_between_invalid:"Invalid values, {0} is greater than {1}",datetime_empty:"Empty value",datetime_invalid:"Invalid date format ({0})",datetime_exceed_min:"Must be after {0}",datetime_exceed_max:"Must be before {0}",datetime_between_invalid:"Invalid values, {0} is greater than {1}",boolean_not_valid:"Not a boolean",operator_not_multiple:'Operator "{1}" cannot accept multiple values'},invert:"Invert",NOT:"NOT"},e.defaults({lang_code:"mn"})})(this.jQuery)},VkeE:function(t,e,n){var o=n("7yoi");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("po5z")("c02b2c9c",o,!0,{})},Ybjk:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{x:t.x,y:t.y}},[n("rect",{staticClass:"node-dark-background",attrs:{fill:t.color,stroke:"#1c90f3","stroke-width":t.selected?1:0,x:"5",y:"16",width:t.width,height:t.height}}),t._v(" "),n("svg",{attrs:{x:"0",y:"0"},on:{mousedown:t.mouseDown,mouseenter:t.mouseenter,mouseleave:t.mouseleave}},[n("rect",{staticClass:"node-dark-background",attrs:{fill:"#000000","fill-opacity":t.titleFillOpacity,x:"6",y:"17",width:t.width-2,height:"23"}}),t._v(" "),t.all_checked?t._e():n("svg",{attrs:{x:"13",y:"22",id:"checkbox",viewBox:"0 0 28 28",width:"12",height:"12"},on:{mousedown:t.selectAll}},[n("path",{attrs:{d:"M0 0v28h28V0H0zm24 24H4V4h20v20z",fill:"#fff"}}),t._v(" "),n("rect",{attrs:{fill:"#fff","fill-opacity":"0",x:"0",y:"0",width:"28",height:"28"}})]),t._v(" "),t.all_checked?n("svg",{attrs:{x:"13",y:"22",id:"checkbox-checked",viewBox:"0 0 28 28",width:"12",height:"12"},on:{mousedown:t.selectAll}},[n("path",{attrs:{d:"M0 0v28h28V0H0zm24 24H4V4h20v20zm-2-13l-2.828-2.828-6.768 6.982-3.576-3.576L6 14.406l6.404 6.406L22 11z",fill:"#fff"}}),t._v(" "),n("rect",{attrs:{fill:"#fff",x:"0",y:"0","fill-opacity":"0",width:"28",height:"28"}})]):t._e(),t._v(" "),n("text",{attrs:{x:29,y:32,"font-size":"14",fill:"#fff"}},[t._v(t._s(t.title))]),t._v(" "),t.deletable?n("svg",{staticStyle:{"enable-background":"new 0 0 459 459"},attrs:{x:t.width-12,y:"21",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",width:"14px",height:"14px",viewBox:"0 0 459 459","xml:space":"preserve"},on:{click:t.deleteNode}},[n("g",[n("g",{attrs:{id:"delete"}},[n("path",{staticStyle:{fill:"rgb(255, 255, 255)"},attrs:{d:"M76.5,408c0,28.05,22.95,51,51,51h204c28.05,0,51-22.95,51-51V102h-306V408z M408,25.5h-89.25L293.25,0h-127.5l-25.5,25.5    H51v51h357V25.5z"}})])]),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g"),t._v(" "),n("g")]):t._e()]),t._v(" "),n("rect",{staticClass:"node-light-background",attrs:{fill:"#ffffff",x:"6",y:"40",width:t.width-2,height:t.height-25}}),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},awEg:function(t,e,n){var o=n("VU/8")(n("G3B0"),n("/cxS"),!1,null,null,null);t.exports=o.exports},b1HD:function(t,e,n){var o=n("VU/8")(n("w7HC"),n("eJ7E"),!1,null,null,null);t.exports=o.exports},bNUd:function(t,e,n){var o=n("26o2");t.exports=o},eJ7E:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",["in"===t.type?n("svg",{attrs:{y:t.y+55}},[n("rect",{ref:"handle",attrs:{fill:t.fill,x:"1",y:"0","fill-opacity":t.opacity,rx:"5",ry:"5",width:"10",height:"10"},on:{mouseenter:t.enter,mouseleave:t.leave,mousedown:t.startDragNewLink,mouseup:t.mouseup}}),t._v(" "),t.field.output?t._e():n("svg",{attrs:{x:"12",y:"0",id:"checkbox",viewBox:"0 0 28 28",width:"12",height:"12"},on:{mousedown:t.check}},[n("path",{attrs:{d:"M0 0v28h28V0H0zm24 24H4V4h20v20z"}}),t._v(" "),n("rect",{attrs:{fill:"#333","fill-opacity":"0",x:"0",y:"0",width:"28",height:"28"}})]),t._v(" "),t.field.output?n("svg",{attrs:{x:"12",y:"0",id:"checkbox-checked",viewBox:"0 0 28 28",width:"12",height:"12"},on:{mousedown:t.check}},[n("path",{attrs:{d:"M0 0v28h28V0H0zm24 24H4V4h20v20zm-2-13l-2.828-2.828-6.768 6.982-3.576-3.576L6 14.406l6.404 6.406L22 11z"}}),t._v(" "),n("rect",{attrs:{fill:"#333",x:"0",y:"0","fill-opacity":"0",width:"28",height:"28"}})]):t._e(),t._v(" "),t.selectedNodeIndex==t.nodeIndex&&t.selectedFieldIndex==t.f_index?n("text",{attrs:{x:"30",y:"9","font-size":"7pt","font-weight":"bold",fill:"#1364A9"},on:{mousedown:t.select_Field}},[t._v(t._s(t.alias))]):n("text",{attrs:{x:"30",y:"9","font-size":"7pt",fill:"#000000"},on:{mousedown:t.select_Field}},[t._v(t._s(t.alias))]),t._v(" "),n("text",{attrs:{x:t.nodeWidth,y:"7","font-size":"6pt",fill:"#666","text-anchor":"end"},on:{mousedown:t.select_Field}},[t._v(t._s(t.field.dbType))])]):n("svg",{attrs:{y:t.y+55}},[n("rect",{ref:"handle",attrs:{fill:t.fill,x:t.nodeWidth-1,y:"0","fill-opacity":t.opacity,rx:"5",ry:"5",width:"10",height:"10"},on:{mouseenter:t.enter,mouseleave:t.leave,mousedown:t.startDragNewLink,mouseup:t.mouseup}})])])},staticRenderFns:[]}},iQ5J:function(t,e){t.exports=function(){var t,e,n,o="",i=[],r={passive:!0};function s(e,s,a,l){var u;u="wheel"===n?a:function(t,e){var o=function(t){!t&&(t=window.event);var o={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==n?(o.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(o.deltaX=-.025*t.wheelDeltaX)):o.deltaY=t.detail,e(o)};return i.push({element:t,fn:o}),o}(e,a),e[t](o+s,u,!!l&&r)}function a(t,s,a,l){var u;u="wheel"===n?a:function(t){for(var e=0;e<i.length;e++)if(i[e].element===t)return i[e].fn;return function(){}}(t),t[e](o+s,u,!!l&&r),function(t){for(var e=0;e<i.length;e++)if(i[e].element===t)return i.splice(e,1)}(t)}return window.addEventListener?(t="addEventListener",e="removeEventListener"):(t="attachEvent",e="detachEvent",o="on"),n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:function(t,e,o){s(t,n,e,o),"DOMMouseScroll"==n&&s(t,"MozMousePixelScroll",e,o)},off:function(t,e,o){a(t,n,e,o),"DOMMouseScroll"==n&&a(t,"MozMousePixelScroll",e,o)}}}()},jyFz:function(t,e,n){var o=function(){return this}()||Function("return this")(),i=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,r=i&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,t.exports=n("SldL"),i)o.regeneratorRuntime=r;else try{delete o.regeneratorRuntime}catch(t){o.regeneratorRuntime=void 0}},mbyZ:function(t,e,n){var o=n("VU/8")(n("FKkT"),n("R65D"),!1,null,null,null);t.exports=o.exports},mwDI:function(t,e,n){var o=n("VU/8")(n("qANb"),n("Ybjk"),!1,null,null,null);t.exports=o.exports},nHMw:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("circle",{style:t.hover?"stroke:rgba(255,0,0,0.5);":"stroke:rgba(255,0,0,0.0);",attrs:{"stroke-width":"6",cx:t.x,cy:t.y,r:"5",fill:"black"},on:{mouseenter:t.mouseEnter,mouseleave:t.mouseLeave,mousedown:function(e){return t.$emit("mousedown",e)}}})},staticRenderFns:[]}},po5z:function(t,e,n){var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i=n("O0yT"),r={},s=o&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,u=!1,c=function(){},d=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t){for(var e=0;e<t.length;e++){var n=t[e],o=r[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(v(n.parts[i]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(v(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:s}}}}function m(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function v(t){var e,n,o=document.querySelector("style["+h+'~="'+t.id+'"]');if(o){if(u)return c;o.parentNode.removeChild(o)}if(p){var i=l++;o=a||(a=m()),e=b.bind(null,o,i,!1),n=b.bind(null,o,i,!0)}else o=m(),e=function(t,e){var n=e.css,o=e.media,i=e.sourceMap;o&&t.setAttribute("media",o);d.ssrId&&t.setAttribute(h,e.id);i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}t.exports=function(t,e,n,o){u=n,d=o||{};var s=i(t,e);return f(s),function(e){for(var n=[],o=0;o<s.length;o++){var a=s[o];(l=r[a.id]).refs--,n.push(l)}e?f(s=i(t,e)):s=[];for(o=0;o<n.length;o++){var l;if(0===(l=n[o]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete r[l.id]}}}};var g,y=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function b(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=y(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},qANb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"DiagramNode",props:{title:{type:String,required:!0},index:Number,ports:{type:Array,default:function(){return[]}},x:Number,y:Number,width:{type:Number,default:72},height:{type:Number,default:100},color:{type:String,default:"#1c90f3"},deletable:{type:Boolean,default:!0},selected:Boolean,all_checked:Boolean},data:function(){return{nodeStrokeWidth:0,titleFillOpacity:.25}},methods:{deleteNode:function(){this.$emit("delete")},selectAll:function(){this.$emit("selectAll",this.index)},mouseDown:function(t){this.$emit("onStartDrag",{type:"nodes",index:this.index},t.x-this.x,t.y-this.y)},mouseenter:function(){this.titleFillOpacity=.5},mouseleave:function(){this.titleFillOpacity=.25}}}},rGS7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("mbyZ"),i={"data-source":n.n(o).a},r=function t(e,n){t.installed||Object.keys(i).forEach(function(t){return e.component(t,i[t])})};"undefined"!=typeof window&&window.Vue&&r(window.Vue),e.default=r},u0WB:function(t,e,n){var o=n("VU/8")(n("zVv6"),n("C0SM"),!1,function(t){n("VkeE")},"data-v-134cde82",null);t.exports=o.exports},uud1:function(t,e,n){var o=n("x30w");t.exports={enable:function(t){var e=t.svg.querySelector("defs");if(e||(e=document.createElementNS(o.svgNS,"defs"),t.svg.appendChild(e)),!e.querySelector("style#svg-pan-zoom-controls-styles")){var n=document.createElementNS(o.svgNS,"style");n.setAttribute("id","svg-pan-zoom-controls-styles"),n.setAttribute("type","text/css"),n.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",e.appendChild(n)}var i=document.createElementNS(o.svgNS,"g");i.setAttribute("id","svg-pan-zoom-controls"),i.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)"),i.setAttribute("class","svg-pan-zoom-control"),i.appendChild(this._createZoomIn(t)),i.appendChild(this._createZoomReset(t)),i.appendChild(this._createZoomOut(t)),t.svg.appendChild(i),t.controlIcons=i},_createZoomIn:function(t){var e=document.createElementNS(o.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-in"),e.setAttribute("transform","translate(30.5 5) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomIn()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomIn()},!1);var n=document.createElementNS(o.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(o.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},_createZoomReset:function(t){var e=document.createElementNS(o.svgNS,"g");e.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),e.setAttribute("transform","translate(5 35) scale(0.4)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().reset()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().reset()},!1);var n=document.createElementNS(o.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(o.svgNS,"path");i.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i);var r=document.createElementNS(o.svgNS,"path");return r.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),r.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(r),e},_createZoomOut:function(t){var e=document.createElementNS(o.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-out"),e.setAttribute("transform","translate(30.5 70) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomOut()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomOut()},!1);var n=document.createElementNS(o.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(o.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},disable:function(t){t.controlIcons&&(t.controlIcons.parentNode.removeChild(t.controlIcons),t.controlIcons=null)}}},w7HC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"DiagramPort",props:["id","y","type","field","nodeWidth","nodeIndex","portIndex","f_index","selectedFieldIndex","selectedNodeIndex"],data:function(){return{fill:"#000",opacity:0}},methods:{mouseup:function(){this.$emit("mouseUpPort",this.id)},enter:function(){this.opacity=.8},leave:function(){this.opacity=0},startDragNewLink:function(){this.$emit("onStartDragNewLink",this.id)},check:function(){this.$emit("changeChecked",this.nodeIndex,this.portIndex)},select_Field:function(){this.$emit("selectField",this.nodeIndex,this.f_index,this.field)}},computed:{alias:function(){return this.field.alias.replace("".concat(this.field.table,"_as_"),"")}}}},"x+GE":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"DiagramPoint",props:["x","y"],data:function(){return{hover:!1}},methods:{mouseEnter:function(){this.hover=!0},mouseLeave:function(){this.hover=!1}}}},x30w:function(t,e,n){var o=n("+ql2"),i="unknown";document.documentMode&&(i="ie"),t.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(t){if(t.clientWidth&&t.clientHeight)return{width:t.clientWidth,height:t.clientHeight};if(t.getBoundingClientRect())return t.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(t,e){var n=null;if(!(n=o.isElement(e)?e:t.querySelector(e))){var i=Array.prototype.slice.call(t.childNodes||t.children).filter(function(t){return"defs"!==t.nodeName&&"#text"!==t.nodeName});1===i.length&&"g"===i[0].nodeName&&null===i[0].getAttribute("transform")&&(n=i[0])}if(!n){var r="viewport-"+(new Date).toISOString().replace(/\D/g,"");(n=document.createElementNS(this.svgNS,"g")).setAttribute("id",r);var s=t.childNodes||t.children;if(s&&s.length>0)for(var a=s.length;a>0;a--)"defs"!==s[s.length-a].nodeName&&n.appendChild(s[s.length-a]);t.appendChild(n)}var l=[];return n.getAttribute("class")&&(l=n.getAttribute("class").split(" ")),~l.indexOf("svg-pan-zoom_viewport")||(l.push("svg-pan-zoom_viewport"),n.setAttribute("class",l.join(" "))),n},setupSvgAttributes:function(t){if(t.setAttribute("xmlns",this.svgNS),t.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),t.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==t.parentNode){var e=t.getAttribute("style")||"";-1===e.toLowerCase().indexOf("overflow")&&t.setAttribute("style","overflow: hidden; "+e)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:o.throttle(function(){for(var t=document.querySelectorAll("defs"),e=t.length,n=0;n<e;n++){var o=t[n];o.parentNode.insertBefore(o,o)}},this?this.internetExplorerRedisplayInterval:null),setCTM:function(t,e,n){var o=this,r="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttributeNS(null,"transform",r),"transform"in t.style?t.style.transform=r:"-ms-transform"in t.style?t.style["-ms-transform"]=r:"-webkit-transform"in t.style&&(t.style["-webkit-transform"]=r),"ie"===i&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout(function(){o.refreshDefsGlobal()},o.internetExplorerRedisplayInterval))},getEventPoint:function(t,e){var n=e.createSVGPoint();return o.mouseAndTouchNormalize(t,e),n.x=t.clientX,n.y=t.clientY,n},getSvgCenterPoint:function(t,e,n){return this.createSVGPoint(t,e/2,n/2)},createSVGPoint:function(t,e,n){var o=t.createSVGPoint();return o.x=e,o.y=n,o}}},zVv6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("LUwA"),i=n.n(o),r=n("J8UF"),s=n("mwDI"),a=n.n(s),l=n("awEg"),u=n.n(l),c=n("b1HD"),d=n.n(c),h=function(){return Math.trunc(1e3*Math.random())};function p(t,e){return e*Math.round(t/e)}e.default={name:"Diagram",Model:r.a,props:{model:{required:!0},width:{default:800},height:{default:600},gridSnap:{default:1},selectedFieldIndex:{default:null},selectedNodeIndex:{default:null}},data:function(){return this.updateLinksPositions(),{document:document,zoomEnabled:!0,panEnabled:!0,draggedItem:void 0,selectedItem:{},initialDragX:0,initialDragY:0,newLink:void 0,mouseX:0,mouseY:0}},components:{DiagramNode:a.a,DiagramLink:u.a,DiagramPort:d.a,SvgPanZoom:i.a},methods:{convertXYtoViewPort:function(t,e){var n,o,i,r,s,a=document.getElementById("svgroot2"),l=document.getElementById("viewport"),u=a.createSVGPoint(),c=(n=a,o=document.documentElement,i=n.getBoundingClientRect(),r=o.scrollLeft,s=o.scrollTop,{x:i.left+r,y:i.top+s});u.x=t-c.x,u.y=e-c.y;var d=l.getCTM().inverse();return u.matrixTransform(d)},beforePan:function(){return!(this.selectedItem.type||this.draggedItem||this.newLink)},isEven:function(t){return t%2==0},getY:function(t){return this.isEven(t)?10*t:10*(t-1)},createPoint:function(t,e,n,o){var i=this.convertXYtoViewPort(t,e),r=this.model._model.links;void 0===r[n].points&&(r[n].points=[]);var s=r[n].points;s.splice(o,0,i),r[n].points=s},clearSelection:function(){this.selectedItem={}},updateLinksPositions:function(){var t=this,e=[];this.model&&this.model._model&&(e=this.model._model.links),this.$nextTick(function(){setTimeout(function(){for(var n=0;n<e.length;n++){var o;o=t.getPortHandlePosition(e[n].from),e[n].positionFrom={x:o.x,y:o.y},o=t.getPortHandlePosition(e[n].to),e[n].positionTo={x:o.x,y:o.y}}},100)})},startDragNewLink:function(t){this.panEnabled=!1,this.newLink={startPortId:t}},changeChecked:function(t,e){this.model._model.nodes[t].ports[e].field.output?this.model._model.nodes[t].ports[e].field.output=!1:this.model._model.nodes[t].ports[e].field.output=!0,this.$emit("changeChecked",t,e)},selectAll:function(t){var e=!0;this.model._model.nodes[t].all_checked&&(e=!1),this.model._model.nodes[t].all_checked=e,this.model._model.nodes[t].ports.forEach(function(t){t.field.output=e}),this.$emit("changeChecked")},selectField:function(t,e,n){this.$emit("selectField",t,e,n)},getPortHandlePosition:function(t){if(this.$refs["port-"+t]){var e,n,o=this.$refs["port-"+t][0],i=this.$refs["node-"+o.nodeIndex][0];return"in"===o.type?(e=i.x+10,n=i.y+o.y+64):(e=i.x+i.width+10,n=i.y+o.y+64),{x:e,y:n}}return console.warn('port "'.concat(t,'" not found. you must call this method after the first render')),0},mouseMove:function(t){var e=this.model._model.links;if(this.mouseX=t.x,this.mouseY=t.y,this.draggedItem){var n=this.draggedItem.index,o=this.draggedItem.type;if("points"===o){var i=this.convertXYtoViewPort(this.mouseX,this.mouseY);i.x=p(i.x,this.gridSnap)-this.gridSnap/2,i.y=p(i.y,this.gridSnap),e[this.draggedItem.linkIndex].points[this.draggedItem.pointIndex].x=i.x,e[this.draggedItem.linkIndex].points[this.draggedItem.pointIndex].y=i.y,this.updateLinksPositions()}else{var r=this.convertXYtoViewPort(this.mouseX,this.mouseY);r.x=p(r.x,this.gridSnap)-this.gridSnap/2,r.y=p(r.y,this.gridSnap),this.model._model[o][n].x=r.x-30,this.model._model[o][n].y=r.y-30,this.updateLinksPositions()}}},mouseUp:function(){this.draggedItem=void 0,this.newLink=void 0},mouseUpPort:function(t){var e=this.model._model.links;if(this.draggedItem&&"points"===this.draggedItem.type){console.log(this.draggedItem);var n=this.draggedItem.pointIndex,o=this.draggedItem.linkIndex;if("in"===this.$refs["port-"+t][0].type){var i=e[o].points.length;e[o].points.splice(n,i-this.draggedItem.pointIndex)}else e[o].points.splice(0,n+1);this.updateLinksPositions()}if(void 0!==this.newLink){var r=this.newLink.startPortId,s=t,a=this.$refs["port-"+r][0],l=this.$refs["port-"+s][0];"in"===a.type&&"out"===l.type?e.push({id:h(),from:l.id,to:a.id,positionFrom:{},positionTo:{},points:[]}):"in"===l.type&&"out"===a.type?e.push({id:h(),from:a.id,to:l.id,positionFrom:{},positionTo:{},points:[]}):console.warn("You must link one out port and one in port"),this.model._model.links=e,this.updateLinksPositions()}},startDragPoint:function(t){this.model._model.links.splice(t.linkIndex,1)},startDragItem:function(t,e,n){this.panEnabled=!1,this.draggedItem=t,this.selectedItem=t,this.initialDragX=e,this.initialDragY=n}},computed:{querySelector:function(){return document.querySelector("#viewport")}},watch:{"model._model.links":function(){this.updateLinksPositions()}}}}},[17]);